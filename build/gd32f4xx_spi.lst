ARM GAS  /tmp/cc9oc1p7.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"gd32f4xx_spi.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.spi_i2s_deinit,"ax",%progbits
  20              		.align	1
  21              		.global	spi_i2s_deinit
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	spi_i2s_deinit:
  27              	.LVL0:
  28              	.LFB116:
  29              		.file 1 "Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c"
   1:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
   2:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \file    gd32f4xx_spi.c
   3:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief   SPI driver
   4:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
   5:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \version 2016-08-15, V1.0.0, firmware for GD32F4xx
   6:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \version 2018-12-12, V2.0.0, firmware for GD32F4xx
   7:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \version 2020-09-30, V2.1.0, firmware for GD32F4xx
   8:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \version 2022-03-09, V3.0.0, firmware for GD32F4xx
   9:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
  10:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
  11:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*
  12:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     Copyright (c) 2022, GigaDevice Semiconductor Inc.
  13:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
  14:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     Redistribution and use in source and binary forms, with or without modification,
  15:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** are permitted provided that the following conditions are met:
  16:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
  17:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     1. Redistributions of source code must retain the above copyright notice, this
  18:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****        list of conditions and the following disclaimer.
  19:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     2. Redistributions in binary form must reproduce the above copyright notice,
  20:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****        this list of conditions and the following disclaimer in the documentation
  21:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****        and/or other materials provided with the distribution.
  22:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     3. Neither the name of the copyright holder nor the names of its contributors
  23:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****        may be used to endorse or promote products derived from this software without
  24:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****        specific prior written permission.
  25:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
  26:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  27:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  28:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
  29:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
ARM GAS  /tmp/cc9oc1p7.s 			page 2


  30:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
  31:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  32:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  33:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  34:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  35:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** OF SUCH DAMAGE.
  36:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
  37:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
  38:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
  39:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** #include "gd32f4xx_spi.h"
  40:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** #include "gd32f4xx_rcu.h"
  41:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
  42:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /* SPI/I2S parameter initialization mask */
  43:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** #define SPI_INIT_MASK                   ((uint32_t)0x00003040U)  /*!< SPI parameter initialization 
  44:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** #define I2S_INIT_MASK                   ((uint32_t)0x0000F047U)  /*!< I2S parameter initialization 
  45:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** #define I2S_FULL_DUPLEX_MASK            ((uint32_t)0x00000480U)  /*!< I2S full duples mode configur
  46:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
  47:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /* default value */
  48:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** #define SPI_I2SPSC_DEFAULT_VALUE        ((uint32_t)0x00000002U)  /*!< default value of SPI_I2SPSC r
  49:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
  50:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
  51:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      deinitialize SPI and I2S
  52:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5),include I2S1_ADD and I2S2_ADD
  53:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
  54:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
  55:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
  56:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_i2s_deinit(uint32_t spi_periph)
  57:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
  30              		.loc 1 57 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 57 1 is_stmt 0 view .LVU1
  35 0000 08B5     		push	{r3, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 3, -8
  39              		.cfi_offset 14, -4
  58:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     switch(spi_periph) {
  40              		.loc 1 58 5 is_stmt 1 view .LVU2
  41 0002 264B     		ldr	r3, .L12
  42 0004 9842     		cmp	r0, r3
  43 0006 37D0     		beq	.L2
  44 0008 1DD8     		bhi	.L3
  45 000a A3F57843 		sub	r3, r3, #63488
  46 000e 9842     		cmp	r0, r3
  47 0010 29D0     		beq	.L4
  48 0012 03F57443 		add	r3, r3, #62464
  49 0016 9842     		cmp	r0, r3
  50 0018 08D1     		bne	.L11
  59:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI0:
  60:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         /* reset SPI0 */
  61:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_enable(RCU_SPI0RST);
  51              		.loc 1 61 9 view .LVU3
  52 001a 40F60C10 		movw	r0, #2316
  53              	.LVL1:
  54              		.loc 1 61 9 is_stmt 0 view .LVU4
ARM GAS  /tmp/cc9oc1p7.s 			page 3


  55 001e FFF7FEFF 		bl	rcu_periph_reset_enable
  56              	.LVL2:
  62:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI0RST);
  57              		.loc 1 62 9 is_stmt 1 view .LVU5
  58 0022 40F60C10 		movw	r0, #2316
  59 0026 FFF7FEFF 		bl	rcu_periph_reset_disable
  60              	.LVL3:
  63:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
  61              		.loc 1 63 9 view .LVU6
  62              	.L1:
  64:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI1:
  65:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         /* reset SPI1,I2S1 and I2S1_ADD */
  66:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_enable(RCU_SPI1RST);
  67:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI1RST);
  68:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
  69:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI2:
  70:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         /* reset SPI2,I2S2 and I2S2_ADD */
  71:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_enable(RCU_SPI2RST);
  72:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI2RST);
  73:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
  74:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI3:
  75:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         /* reset SPI3 */
  76:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_enable(RCU_SPI3RST);
  77:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI3RST);
  78:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
  79:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI4:
  80:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         /* reset SPI4 */
  81:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_enable(RCU_SPI4RST);
  82:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI4RST);
  83:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
  84:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI5:
  85:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         /* reset SPI5 */
  86:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_enable(RCU_SPI5RST);
  87:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI5RST);
  88:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
  89:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     default :
  90:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
  91:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
  92:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
  63              		.loc 1 92 1 is_stmt 0 view .LVU7
  64 002a 08BD     		pop	{r3, pc}
  65              	.LVL4:
  66              	.L11:
  58:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI0:
  67              		.loc 1 58 5 view .LVU8
  68 002c A3F57843 		sub	r3, r3, #63488
  69 0030 9842     		cmp	r0, r3
  70 0032 FAD1     		bne	.L1
  66:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI1RST);
  71              		.loc 1 66 9 is_stmt 1 view .LVU9
  72 0034 40F60E00 		movw	r0, #2062
  73              	.LVL5:
  66:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI1RST);
  74              		.loc 1 66 9 is_stmt 0 view .LVU10
  75 0038 FFF7FEFF 		bl	rcu_periph_reset_enable
  76              	.LVL6:
  67:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
ARM GAS  /tmp/cc9oc1p7.s 			page 4


  77              		.loc 1 67 9 is_stmt 1 view .LVU11
  78 003c 40F60E00 		movw	r0, #2062
  79 0040 FFF7FEFF 		bl	rcu_periph_reset_disable
  80              	.LVL7:
  68:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI2:
  81              		.loc 1 68 9 view .LVU12
  82 0044 F1E7     		b	.L1
  83              	.LVL8:
  84              	.L3:
  58:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI0:
  85              		.loc 1 58 5 is_stmt 0 view .LVU13
  86 0046 164B     		ldr	r3, .L12+4
  87 0048 9842     		cmp	r0, r3
  88 004a 1ED0     		beq	.L8
  89 004c 03F58063 		add	r3, r3, #1024
  90 0050 9842     		cmp	r0, r3
  91 0052 EAD1     		bne	.L1
  86:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI5RST);
  92              		.loc 1 86 9 is_stmt 1 view .LVU14
  93 0054 40F61510 		movw	r0, #2325
  94              	.LVL9:
  86:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI5RST);
  95              		.loc 1 86 9 is_stmt 0 view .LVU15
  96 0058 FFF7FEFF 		bl	rcu_periph_reset_enable
  97              	.LVL10:
  87:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
  98              		.loc 1 87 9 is_stmt 1 view .LVU16
  99 005c 40F61510 		movw	r0, #2325
 100 0060 FFF7FEFF 		bl	rcu_periph_reset_disable
 101              	.LVL11:
  88:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     default :
 102              		.loc 1 88 9 view .LVU17
 103              		.loc 1 92 1 is_stmt 0 view .LVU18
 104 0064 E1E7     		b	.L1
 105              	.LVL12:
 106              	.L4:
  71:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI2RST);
 107              		.loc 1 71 9 is_stmt 1 view .LVU19
 108 0066 40F60F00 		movw	r0, #2063
 109              	.LVL13:
  71:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI2RST);
 110              		.loc 1 71 9 is_stmt 0 view .LVU20
 111 006a FFF7FEFF 		bl	rcu_periph_reset_enable
 112              	.LVL14:
  72:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 113              		.loc 1 72 9 is_stmt 1 view .LVU21
 114 006e 40F60F00 		movw	r0, #2063
 115 0072 FFF7FEFF 		bl	rcu_periph_reset_disable
 116              	.LVL15:
  73:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI3:
 117              		.loc 1 73 9 view .LVU22
 118 0076 D8E7     		b	.L1
 119              	.LVL16:
 120              	.L2:
  76:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI3RST);
 121              		.loc 1 76 9 view .LVU23
 122 0078 40F60D10 		movw	r0, #2317
ARM GAS  /tmp/cc9oc1p7.s 			page 5


 123              	.LVL17:
  76:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI3RST);
 124              		.loc 1 76 9 is_stmt 0 view .LVU24
 125 007c FFF7FEFF 		bl	rcu_periph_reset_enable
 126              	.LVL18:
  77:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 127              		.loc 1 77 9 is_stmt 1 view .LVU25
 128 0080 40F60D10 		movw	r0, #2317
 129 0084 FFF7FEFF 		bl	rcu_periph_reset_disable
 130              	.LVL19:
  78:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI4:
 131              		.loc 1 78 9 view .LVU26
 132 0088 CFE7     		b	.L1
 133              	.LVL20:
 134              	.L8:
  81:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI4RST);
 135              		.loc 1 81 9 view .LVU27
 136 008a 40F61410 		movw	r0, #2324
 137              	.LVL21:
  81:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         rcu_periph_reset_disable(RCU_SPI4RST);
 138              		.loc 1 81 9 is_stmt 0 view .LVU28
 139 008e FFF7FEFF 		bl	rcu_periph_reset_enable
 140              	.LVL22:
  82:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 141              		.loc 1 82 9 is_stmt 1 view .LVU29
 142 0092 40F61410 		movw	r0, #2324
 143 0096 FFF7FEFF 		bl	rcu_periph_reset_disable
 144              	.LVL23:
  83:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI5:
 145              		.loc 1 83 9 view .LVU30
 146 009a C6E7     		b	.L1
 147              	.L13:
 148              		.align	2
 149              	.L12:
 150 009c 00340140 		.word	1073820672
 151 00a0 00500140 		.word	1073827840
 152              		.cfi_endproc
 153              	.LFE116:
 155              		.section	.text.spi_struct_para_init,"ax",%progbits
 156              		.align	1
 157              		.global	spi_struct_para_init
 158              		.syntax unified
 159              		.thumb
 160              		.thumb_func
 162              	spi_struct_para_init:
 163              	.LVL24:
 164              	.LFB117:
  93:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
  94:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
  95:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      initialize the parameters of SPI struct with default values
  96:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  none
  97:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] spi_parameter_struct: the initialized struct spi_parameter_struct pointer
  98:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
  99:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 100:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_struct_para_init(spi_parameter_struct *spi_struct)
 101:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 165              		.loc 1 101 1 view -0
ARM GAS  /tmp/cc9oc1p7.s 			page 6


 166              		.cfi_startproc
 167              		@ args = 0, pretend = 0, frame = 0
 168              		@ frame_needed = 0, uses_anonymous_args = 0
 169              		@ link register save eliminated.
 102:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* configure the structure with default value */
 103:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     spi_struct->device_mode          = SPI_SLAVE;
 170              		.loc 1 103 5 view .LVU32
 171              		.loc 1 103 38 is_stmt 0 view .LVU33
 172 0000 0023     		movs	r3, #0
 173 0002 0360     		str	r3, [r0]
 104:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     spi_struct->trans_mode           = SPI_TRANSMODE_FULLDUPLEX;
 174              		.loc 1 104 5 is_stmt 1 view .LVU34
 175              		.loc 1 104 38 is_stmt 0 view .LVU35
 176 0004 4360     		str	r3, [r0, #4]
 105:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     spi_struct->frame_size           = SPI_FRAMESIZE_8BIT;
 177              		.loc 1 105 5 is_stmt 1 view .LVU36
 178              		.loc 1 105 38 is_stmt 0 view .LVU37
 179 0006 8360     		str	r3, [r0, #8]
 106:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     spi_struct->nss                  = SPI_NSS_HARD;
 180              		.loc 1 106 5 is_stmt 1 view .LVU38
 181              		.loc 1 106 38 is_stmt 0 view .LVU39
 182 0008 C360     		str	r3, [r0, #12]
 107:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     spi_struct->clock_polarity_phase = SPI_CK_PL_LOW_PH_1EDGE;
 183              		.loc 1 107 5 is_stmt 1 view .LVU40
 184              		.loc 1 107 38 is_stmt 0 view .LVU41
 185 000a 4361     		str	r3, [r0, #20]
 108:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     spi_struct->prescale             = SPI_PSC_2;
 186              		.loc 1 108 5 is_stmt 1 view .LVU42
 187              		.loc 1 108 38 is_stmt 0 view .LVU43
 188 000c 8361     		str	r3, [r0, #24]
 109:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     spi_struct->endian               = SPI_ENDIAN_MSB;
 189              		.loc 1 109 5 is_stmt 1 view .LVU44
 190              		.loc 1 109 38 is_stmt 0 view .LVU45
 191 000e 0361     		str	r3, [r0, #16]
 110:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 192              		.loc 1 110 1 view .LVU46
 193 0010 7047     		bx	lr
 194              		.cfi_endproc
 195              	.LFE117:
 197              		.section	.text.spi_init,"ax",%progbits
 198              		.align	1
 199              		.global	spi_init
 200              		.syntax unified
 201              		.thumb
 202              		.thumb_func
 204              	spi_init:
 205              	.LVL25:
 206              	.LFB118:
 111:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 112:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      initialize SPI parameter
 113:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 114:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_struct: SPI parameter initialization stuct members of the structure
 115:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 and the member values are shown as below:
 116:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                   device_mode: SPI_MASTER, SPI_SLAVE.
 117:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                   trans_mode: SPI_TRANSMODE_FULLDUPLEX, SPI_TRANSMODE_RECEIVEONLY,
 118:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                               SPI_TRANSMODE_BDRECEIVE, SPI_TRANSMODE_BDTRANSMIT
 119:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                   frame_size: SPI_FRAMESIZE_16BIT, SPI_FRAMESIZE_8BIT
ARM GAS  /tmp/cc9oc1p7.s 			page 7


 120:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                   nss: SPI_NSS_SOFT, SPI_NSS_HARD
 121:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                   endian: SPI_ENDIAN_MSB, SPI_ENDIAN_LSB
 122:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                   clock_polarity_phase: SPI_CK_PL_LOW_PH_1EDGE, SPI_CK_PL_HIGH_PH_1EDGE
 123:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                                         SPI_CK_PL_LOW_PH_2EDGE, SPI_CK_PL_HIGH_PH_2EDGE
 124:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                   prescale: SPI_PSC_n (n=2,4,8,16,32,64,128,256)
 125:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 126:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 127:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 128:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_init(uint32_t spi_periph, spi_parameter_struct *spi_struct)
 129:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 207              		.loc 1 129 1 is_stmt 1 view -0
 208              		.cfi_startproc
 209              		@ args = 0, pretend = 0, frame = 0
 210              		@ frame_needed = 0, uses_anonymous_args = 0
 211              		@ link register save eliminated.
 130:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     uint32_t reg = 0U;
 212              		.loc 1 130 5 view .LVU48
 131:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg = SPI_CTL0(spi_periph);
 213              		.loc 1 131 5 view .LVU49
 214              		.loc 1 131 9 is_stmt 0 view .LVU50
 215 0000 0268     		ldr	r2, [r0]
 216              	.LVL26:
 132:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg &= SPI_INIT_MASK;
 217              		.loc 1 132 5 is_stmt 1 view .LVU51
 218              		.loc 1 132 9 is_stmt 0 view .LVU52
 219 0002 02F44152 		and	r2, r2, #12352
 220              	.LVL27:
 133:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 134:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select SPI as master or slave */
 135:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= spi_struct->device_mode;
 221              		.loc 1 135 5 is_stmt 1 view .LVU53
 222              		.loc 1 135 22 is_stmt 0 view .LVU54
 223 0006 0B68     		ldr	r3, [r1]
 224              		.loc 1 135 9 view .LVU55
 225 0008 1A43     		orrs	r2, r2, r3
 226              	.LVL28:
 136:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select SPI transfer mode */
 137:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= spi_struct->trans_mode;
 227              		.loc 1 137 5 is_stmt 1 view .LVU56
 228              		.loc 1 137 22 is_stmt 0 view .LVU57
 229 000a 4B68     		ldr	r3, [r1, #4]
 230              		.loc 1 137 9 view .LVU58
 231 000c 1A43     		orrs	r2, r2, r3
 232              	.LVL29:
 138:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select SPI frame size */
 139:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= spi_struct->frame_size;
 233              		.loc 1 139 5 is_stmt 1 view .LVU59
 234              		.loc 1 139 22 is_stmt 0 view .LVU60
 235 000e 8B68     		ldr	r3, [r1, #8]
 236              		.loc 1 139 9 view .LVU61
 237 0010 1A43     		orrs	r2, r2, r3
 238              	.LVL30:
 140:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select SPI nss use hardware or software */
 141:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= spi_struct->nss;
 239              		.loc 1 141 5 is_stmt 1 view .LVU62
 240              		.loc 1 141 22 is_stmt 0 view .LVU63
 241 0012 CB68     		ldr	r3, [r1, #12]
ARM GAS  /tmp/cc9oc1p7.s 			page 8


 242              		.loc 1 141 9 view .LVU64
 243 0014 1A43     		orrs	r2, r2, r3
 244              	.LVL31:
 142:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select SPI LSB or MSB */
 143:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= spi_struct->endian;
 245              		.loc 1 143 5 is_stmt 1 view .LVU65
 246              		.loc 1 143 22 is_stmt 0 view .LVU66
 247 0016 0B69     		ldr	r3, [r1, #16]
 248              		.loc 1 143 9 view .LVU67
 249 0018 1A43     		orrs	r2, r2, r3
 250              	.LVL32:
 144:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select SPI polarity and phase */
 145:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= spi_struct->clock_polarity_phase;
 251              		.loc 1 145 5 is_stmt 1 view .LVU68
 252              		.loc 1 145 22 is_stmt 0 view .LVU69
 253 001a 4B69     		ldr	r3, [r1, #20]
 254              		.loc 1 145 9 view .LVU70
 255 001c 1A43     		orrs	r2, r2, r3
 256              	.LVL33:
 146:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select SPI prescale to adjust transmit speed */
 147:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= spi_struct->prescale;
 257              		.loc 1 147 5 is_stmt 1 view .LVU71
 258              		.loc 1 147 22 is_stmt 0 view .LVU72
 259 001e 8B69     		ldr	r3, [r1, #24]
 260              		.loc 1 147 9 view .LVU73
 261 0020 1343     		orrs	r3, r3, r2
 262              	.LVL34:
 148:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 149:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* write to SPI_CTL0 register */
 150:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL0(spi_periph) = (uint32_t)reg;
 263              		.loc 1 150 5 is_stmt 1 view .LVU74
 264              		.loc 1 150 26 is_stmt 0 view .LVU75
 265 0022 0360     		str	r3, [r0]
 151:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 152:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_I2SCTL(spi_periph) &= (uint32_t)(~SPI_I2SCTL_I2SSEL);
 266              		.loc 1 152 5 is_stmt 1 view .LVU76
 267              		.loc 1 152 28 is_stmt 0 view .LVU77
 268 0024 C369     		ldr	r3, [r0, #28]
 269              	.LVL35:
 270              		.loc 1 152 28 view .LVU78
 271 0026 23F40063 		bic	r3, r3, #2048
 272 002a C361     		str	r3, [r0, #28]
 273              	.LVL36:
 153:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 274              		.loc 1 153 1 view .LVU79
 275 002c 7047     		bx	lr
 276              		.cfi_endproc
 277              	.LFE118:
 279              		.section	.text.spi_enable,"ax",%progbits
 280              		.align	1
 281              		.global	spi_enable
 282              		.syntax unified
 283              		.thumb
 284              		.thumb_func
 286              	spi_enable:
 287              	.LVL37:
 288              	.LFB119:
ARM GAS  /tmp/cc9oc1p7.s 			page 9


 154:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 155:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 156:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      enable SPI
 157:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 158:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 159:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 160:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 161:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_enable(uint32_t spi_periph)
 162:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 289              		.loc 1 162 1 is_stmt 1 view -0
 290              		.cfi_startproc
 291              		@ args = 0, pretend = 0, frame = 0
 292              		@ frame_needed = 0, uses_anonymous_args = 0
 293              		@ link register save eliminated.
 163:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL0(spi_periph) |= (uint32_t)SPI_CTL0_SPIEN;
 294              		.loc 1 163 5 view .LVU81
 295              		.loc 1 163 26 is_stmt 0 view .LVU82
 296 0000 0368     		ldr	r3, [r0]
 297 0002 43F04003 		orr	r3, r3, #64
 298 0006 0360     		str	r3, [r0]
 164:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 299              		.loc 1 164 1 view .LVU83
 300 0008 7047     		bx	lr
 301              		.cfi_endproc
 302              	.LFE119:
 304              		.section	.text.spi_disable,"ax",%progbits
 305              		.align	1
 306              		.global	spi_disable
 307              		.syntax unified
 308              		.thumb
 309              		.thumb_func
 311              	spi_disable:
 312              	.LVL38:
 313              	.LFB120:
 165:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 166:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 167:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      disable SPI
 168:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 169:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 170:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 171:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 172:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_disable(uint32_t spi_periph)
 173:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 314              		.loc 1 173 1 is_stmt 1 view -0
 315              		.cfi_startproc
 316              		@ args = 0, pretend = 0, frame = 0
 317              		@ frame_needed = 0, uses_anonymous_args = 0
 318              		@ link register save eliminated.
 174:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL0(spi_periph) &= (uint32_t)(~SPI_CTL0_SPIEN);
 319              		.loc 1 174 5 view .LVU85
 320              		.loc 1 174 26 is_stmt 0 view .LVU86
 321 0000 0368     		ldr	r3, [r0]
 322 0002 23F04003 		bic	r3, r3, #64
 323 0006 0360     		str	r3, [r0]
 175:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 324              		.loc 1 175 1 view .LVU87
 325 0008 7047     		bx	lr
ARM GAS  /tmp/cc9oc1p7.s 			page 10


 326              		.cfi_endproc
 327              	.LFE120:
 329              		.section	.text.i2s_init,"ax",%progbits
 330              		.align	1
 331              		.global	i2s_init
 332              		.syntax unified
 333              		.thumb
 334              		.thumb_func
 336              	i2s_init:
 337              	.LVL39:
 338              	.LFB121:
 176:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 177:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 178:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      initialize I2S parameter
 179:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=1,2)
 180:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  i2s_mode: I2S operation mode
 181:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 182:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_MODE_SLAVETX : I2S slave transmit mode
 183:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_MODE_SLAVERX : I2S slave receive mode
 184:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_MODE_MASTERTX : I2S master transmit mode
 185:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_MODE_MASTERRX : I2S master receive mode
 186:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  i2s_standard: I2S standard
 187:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 188:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_STD_PHILLIPS : I2S phillips standard
 189:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_STD_MSB : I2S MSB standard
 190:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_STD_LSB : I2S LSB standard
 191:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_STD_PCMSHORT : I2S PCM short standard
 192:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_STD_PCMLONG : I2S PCM long standard
 193:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  i2s_ckpl: I2S idle state clock polarity
 194:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 195:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_CKPL_LOW : I2S clock polarity low level
 196:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_CKPL_HIGH : I2S clock polarity high level
 197:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 198:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 199:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 200:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void i2s_init(uint32_t spi_periph, uint32_t i2s_mode, uint32_t i2s_standard, uint32_t i2s_ckpl)
 201:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 339              		.loc 1 201 1 is_stmt 1 view -0
 340              		.cfi_startproc
 341              		@ args = 0, pretend = 0, frame = 0
 342              		@ frame_needed = 0, uses_anonymous_args = 0
 343              		@ link register save eliminated.
 344              		.loc 1 201 1 is_stmt 0 view .LVU89
 345 0000 10B4     		push	{r4}
 346              	.LCFI1:
 347              		.cfi_def_cfa_offset 4
 348              		.cfi_offset 4, -4
 202:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     uint32_t reg = 0U;
 349              		.loc 1 202 5 is_stmt 1 view .LVU90
 350              	.LVL40:
 203:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg = SPI_I2SCTL(spi_periph);
 351              		.loc 1 203 5 view .LVU91
 352              		.loc 1 203 9 is_stmt 0 view .LVU92
 353 0002 C469     		ldr	r4, [r0, #28]
 354              	.LVL41:
 204:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg &= I2S_INIT_MASK;
 355              		.loc 1 204 5 is_stmt 1 view .LVU93
ARM GAS  /tmp/cc9oc1p7.s 			page 11


 356              		.loc 1 204 9 is_stmt 0 view .LVU94
 357 0004 4FF2470C 		movw	ip, #61511
 358 0008 04EA0C0C 		and	ip, r4, ip
 359              	.LVL42:
 205:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 206:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* enable I2S mode */
 207:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= (uint32_t)SPI_I2SCTL_I2SSEL;
 360              		.loc 1 207 5 is_stmt 1 view .LVU95
 361              		.loc 1 207 9 is_stmt 0 view .LVU96
 362 000c 4CF4006C 		orr	ip, ip, #2048
 363              	.LVL43:
 208:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select I2S mode */
 209:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= (uint32_t)i2s_mode;
 364              		.loc 1 209 5 is_stmt 1 view .LVU97
 365              		.loc 1 209 9 is_stmt 0 view .LVU98
 366 0010 4CEA010C 		orr	ip, ip, r1
 367              	.LVL44:
 210:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select I2S standard */
 211:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= (uint32_t)i2s_standard;
 368              		.loc 1 211 5 is_stmt 1 view .LVU99
 369              		.loc 1 211 9 is_stmt 0 view .LVU100
 370 0014 4CEA020C 		orr	ip, ip, r2
 371              	.LVL45:
 212:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select I2S polarity */
 213:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= (uint32_t)i2s_ckpl;
 372              		.loc 1 213 5 is_stmt 1 view .LVU101
 373              		.loc 1 213 9 is_stmt 0 view .LVU102
 374 0018 4CEA0303 		orr	r3, ip, r3
 375              	.LVL46:
 214:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 215:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* write to SPI_I2SCTL register */
 216:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_I2SCTL(spi_periph) = (uint32_t)reg;
 376              		.loc 1 216 5 is_stmt 1 view .LVU103
 377              		.loc 1 216 28 is_stmt 0 view .LVU104
 378 001c C361     		str	r3, [r0, #28]
 217:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 379              		.loc 1 217 1 view .LVU105
 380 001e 5DF8044B 		ldr	r4, [sp], #4
 381              	.LCFI2:
 382              		.cfi_restore 4
 383              		.cfi_def_cfa_offset 0
 384 0022 7047     		bx	lr
 385              		.cfi_endproc
 386              	.LFE121:
 388              		.section	.text.i2s_psc_config,"ax",%progbits
 389              		.align	1
 390              		.global	i2s_psc_config
 391              		.syntax unified
 392              		.thumb
 393              		.thumb_func
 395              	i2s_psc_config:
 396              	.LVL47:
 397              	.LFB122:
 218:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 219:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 220:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      configure I2S prescale
 221:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=1,2)
ARM GAS  /tmp/cc9oc1p7.s 			page 12


 222:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  i2s_audiosample: I2S audio sample rate
 223:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 224:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_AUDIOSAMPLE_8K: audio sample rate is 8KHz
 225:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_AUDIOSAMPLE_11K: audio sample rate is 11KHz
 226:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_AUDIOSAMPLE_16K: audio sample rate is 16KHz
 227:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_AUDIOSAMPLE_22K: audio sample rate is 22KHz
 228:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_AUDIOSAMPLE_32K: audio sample rate is 32KHz
 229:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_AUDIOSAMPLE_44K: audio sample rate is 44KHz
 230:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_AUDIOSAMPLE_48K: audio sample rate is 48KHz
 231:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_AUDIOSAMPLE_96K: audio sample rate is 96KHz
 232:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_AUDIOSAMPLE_192K: audio sample rate is 192KHz
 233:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  i2s_frameformat: I2S data length and channel length
 234:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 235:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FRAMEFORMAT_DT16B_CH16B: I2S data length is 16 bit and channel length is 16 b
 236:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FRAMEFORMAT_DT16B_CH32B: I2S data length is 16 bit and channel length is 32 b
 237:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FRAMEFORMAT_DT24B_CH32B: I2S data length is 24 bit and channel length is 32 b
 238:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FRAMEFORMAT_DT32B_CH32B: I2S data length is 32 bit and channel length is 32 b
 239:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  i2s_mckout: I2S master clock output
 240:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 241:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_MCKOUT_ENABLE: I2S master clock output enable
 242:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_MCKOUT_DISABLE: I2S master clock output disable
 243:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 244:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 245:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 246:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void i2s_psc_config(uint32_t spi_periph, uint32_t i2s_audiosample, uint32_t i2s_frameformat, uint32
 247:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 398              		.loc 1 247 1 is_stmt 1 view -0
 399              		.cfi_startproc
 400              		@ args = 0, pretend = 0, frame = 0
 401              		@ frame_needed = 0, uses_anonymous_args = 0
 402              		.loc 1 247 1 is_stmt 0 view .LVU107
 403 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 404              	.LCFI3:
 405              		.cfi_def_cfa_offset 24
 406              		.cfi_offset 3, -24
 407              		.cfi_offset 4, -20
 408              		.cfi_offset 5, -16
 409              		.cfi_offset 6, -12
 410              		.cfi_offset 7, -8
 411              		.cfi_offset 14, -4
 412 0002 0546     		mov	r5, r0
 413 0004 0C46     		mov	r4, r1
 414 0006 1646     		mov	r6, r2
 415 0008 1F46     		mov	r7, r3
 248:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     uint32_t i2sdiv = 2U, i2sof = 0U;
 416              		.loc 1 248 5 is_stmt 1 view .LVU108
 417              	.LVL48:
 249:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     uint32_t clks = 0U;
 418              		.loc 1 249 5 view .LVU109
 250:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     uint32_t i2sclock = 0U;
 419              		.loc 1 250 5 view .LVU110
 251:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 252:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** #ifndef I2S_EXTERNAL_CLOCK_IN
 253:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     uint32_t plli2sm = 0U, plli2sn = 0U, plli2sr = 0U;
 420              		.loc 1 253 5 view .LVU111
 254:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** #endif /* I2S_EXTERNAL_CLOCK_IN */
 255:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
ARM GAS  /tmp/cc9oc1p7.s 			page 13


 256:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* deinit SPI_I2SPSC register */
 257:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_I2SPSC(spi_periph) = SPI_I2SPSC_DEFAULT_VALUE;
 421              		.loc 1 257 5 view .LVU112
 422              		.loc 1 257 28 is_stmt 0 view .LVU113
 423 000a 0223     		movs	r3, #2
 424              	.LVL49:
 425              		.loc 1 257 28 view .LVU114
 426 000c 0362     		str	r3, [r0, #32]
 258:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 259:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** #ifdef I2S_EXTERNAL_CLOCK_IN
 260:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     rcu_i2s_clock_config(RCU_I2SSRC_I2S_CKIN);
 261:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 262:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* set the I2S clock to the external clock input value */
 263:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     i2sclock = I2S_EXTERNAL_CLOCK_IN;
 264:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** #else
 265:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 266:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* turn on the oscillator HXTAL */
 267:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     rcu_osci_on(RCU_HXTAL);
 427              		.loc 1 267 5 is_stmt 1 view .LVU115
 428 000e 1020     		movs	r0, #16
 429              	.LVL50:
 430              		.loc 1 267 5 is_stmt 0 view .LVU116
 431 0010 FFF7FEFF 		bl	rcu_osci_on
 432              	.LVL51:
 268:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* wait for oscillator stabilization flags is SET */
 269:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     rcu_osci_stab_wait(RCU_HXTAL);
 433              		.loc 1 269 5 is_stmt 1 view .LVU117
 434 0014 1020     		movs	r0, #16
 435 0016 FFF7FEFF 		bl	rcu_osci_stab_wait
 436              	.LVL52:
 270:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* turn on the PLLI2S */
 271:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     rcu_osci_on(RCU_PLLI2S_CK);
 437              		.loc 1 271 5 view .LVU118
 438 001a 1A20     		movs	r0, #26
 439 001c FFF7FEFF 		bl	rcu_osci_on
 440              	.LVL53:
 272:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* wait for PLLI2S flags is SET */
 273:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     rcu_osci_stab_wait(RCU_PLLI2S_CK);
 441              		.loc 1 273 5 view .LVU119
 442 0020 1A20     		movs	r0, #26
 443 0022 FFF7FEFF 		bl	rcu_osci_stab_wait
 444              	.LVL54:
 274:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* configure the I2S clock source selection */
 275:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     rcu_i2s_clock_config(RCU_I2SSRC_PLLI2S);
 445              		.loc 1 275 5 view .LVU120
 446 0026 0020     		movs	r0, #0
 447 0028 FFF7FEFF 		bl	rcu_i2s_clock_config
 448              	.LVL55:
 276:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 277:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* get the RCU_PLL_PLLPSC value */
 278:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     plli2sm = (uint32_t)(RCU_PLL & RCU_PLL_PLLPSC);
 449              		.loc 1 278 5 view .LVU121
 450              		.loc 1 278 26 is_stmt 0 view .LVU122
 451 002c 294B     		ldr	r3, .L30
 452 002e D3F80408 		ldr	r0, [r3, #2052]
 453              		.loc 1 278 13 view .LVU123
 454 0032 00F03F00 		and	r0, r0, #63
ARM GAS  /tmp/cc9oc1p7.s 			page 14


 455              	.LVL56:
 279:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* get the RCU_PLLI2S_PLLI2SN value */
 280:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     plli2sn = (uint32_t)((RCU_PLLI2S & RCU_PLLI2S_PLLI2SN) >> 6);
 456              		.loc 1 280 5 is_stmt 1 view .LVU124
 457              		.loc 1 280 27 is_stmt 0 view .LVU125
 458 0036 D3F88428 		ldr	r2, [r3, #2180]
 459              		.loc 1 280 13 view .LVU126
 460 003a C2F38812 		ubfx	r2, r2, #6, #9
 461              	.LVL57:
 281:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* get the RCU_PLLI2S_PLLI2SR value */
 282:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     plli2sr = (uint32_t)((RCU_PLLI2S & RCU_PLLI2S_PLLI2SR) >> 28);
 462              		.loc 1 282 5 is_stmt 1 view .LVU127
 463              		.loc 1 282 27 is_stmt 0 view .LVU128
 464 003e D3F88418 		ldr	r1, [r3, #2180]
 465              		.loc 1 282 13 view .LVU129
 466 0042 C1F30271 		ubfx	r1, r1, #28, #3
 467              	.LVL58:
 283:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 284:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     if((RCU_PLL & RCU_PLL_PLLSEL) == RCU_PLLSRC_HXTAL) {
 468              		.loc 1 284 5 is_stmt 1 view .LVU130
 469              		.loc 1 284 9 is_stmt 0 view .LVU131
 470 0046 D3F80438 		ldr	r3, [r3, #2052]
 471              		.loc 1 284 7 view .LVU132
 472 004a 13F4800F 		tst	r3, #4194304
 473 004e 11D0     		beq	.L21
 285:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         /* get the I2S source clock value */
 286:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         i2sclock = (uint32_t)(((HXTAL_VALUE / plli2sm) * plli2sn) / plli2sr);
 474              		.loc 1 286 9 is_stmt 1 view .LVU133
 475              		.loc 1 286 45 is_stmt 0 view .LVU134
 476 0050 214B     		ldr	r3, .L30+4
 477 0052 B3FBF0F0 		udiv	r0, r3, r0
 478              	.LVL59:
 479              		.loc 1 286 56 view .LVU135
 480 0056 00FB02F2 		mul	r2, r0, r2
 481              	.LVL60:
 482              		.loc 1 286 18 view .LVU136
 483 005a B2FBF1F1 		udiv	r1, r2, r1
 484              	.LVL61:
 485              	.L22:
 287:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     } else {
 288:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         /* get the I2S source clock value */
 289:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         i2sclock = (uint32_t)(((IRC16M_VALUE / plli2sm) * plli2sn) / plli2sr);
 290:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 291:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** #endif /* I2S_EXTERNAL_CLOCK_IN */
 292:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 293:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* config the prescaler depending on the mclk output state, the frame format and audio sample r
 294:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     if(I2S_MCKOUT_ENABLE == i2s_mckout) {
 486              		.loc 1 294 5 is_stmt 1 view .LVU137
 487              		.loc 1 294 7 is_stmt 0 view .LVU138
 488 005e B7F5007F 		cmp	r7, #512
 489 0062 0FD0     		beq	.L29
 295:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         clks = (uint32_t)(((i2sclock / 256U) * 10U) / i2s_audiosample);
 296:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     } else {
 297:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         if(I2S_FRAMEFORMAT_DT16B_CH16B == i2s_frameformat) {
 490              		.loc 1 297 9 is_stmt 1 view .LVU139
 491              		.loc 1 297 11 is_stmt 0 view .LVU140
 492 0064 76BB     		cbnz	r6, .L25
ARM GAS  /tmp/cc9oc1p7.s 			page 15


 298:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****             clks = (uint32_t)(((i2sclock / 32U) * 10U) / i2s_audiosample);
 493              		.loc 1 298 13 is_stmt 1 view .LVU141
 494              		.loc 1 298 42 is_stmt 0 view .LVU142
 495 0066 4909     		lsrs	r1, r1, #5
 496              	.LVL62:
 497              		.loc 1 298 49 view .LVU143
 498 0068 01EB8101 		add	r1, r1, r1, lsl #2
 499 006c 4900     		lsls	r1, r1, #1
 500              		.loc 1 298 18 view .LVU144
 501 006e B1FBF4F1 		udiv	r1, r1, r4
 502              	.LVL63:
 503              		.loc 1 298 18 view .LVU145
 504 0072 0DE0     		b	.L24
 505              	.LVL64:
 506              	.L21:
 289:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 507              		.loc 1 289 9 is_stmt 1 view .LVU146
 289:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 508              		.loc 1 289 46 is_stmt 0 view .LVU147
 509 0074 194B     		ldr	r3, .L30+8
 510 0076 B3FBF0F0 		udiv	r0, r3, r0
 511              	.LVL65:
 289:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 512              		.loc 1 289 57 view .LVU148
 513 007a 00FB02F2 		mul	r2, r0, r2
 514              	.LVL66:
 289:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 515              		.loc 1 289 18 view .LVU149
 516 007e B2FBF1F1 		udiv	r1, r2, r1
 517              	.LVL67:
 289:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 518              		.loc 1 289 18 view .LVU150
 519 0082 ECE7     		b	.L22
 520              	.L29:
 295:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         clks = (uint32_t)(((i2sclock / 256U) * 10U) / i2s_audiosample);
 521              		.loc 1 295 9 is_stmt 1 view .LVU151
 295:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         clks = (uint32_t)(((i2sclock / 256U) * 10U) / i2s_audiosample);
 522              		.loc 1 295 38 is_stmt 0 view .LVU152
 523 0084 090A     		lsrs	r1, r1, #8
 524              	.LVL68:
 295:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         clks = (uint32_t)(((i2sclock / 256U) * 10U) / i2s_audiosample);
 525              		.loc 1 295 46 view .LVU153
 526 0086 01EB8101 		add	r1, r1, r1, lsl #2
 527 008a 4900     		lsls	r1, r1, #1
 295:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         clks = (uint32_t)(((i2sclock / 256U) * 10U) / i2s_audiosample);
 528              		.loc 1 295 14 view .LVU154
 529 008c B1FBF4F1 		udiv	r1, r1, r4
 530              	.LVL69:
 531              	.L24:
 299:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         } else {
 300:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****             clks = (uint32_t)(((i2sclock / 64U) * 10U) / i2s_audiosample);
 301:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         }
 302:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 303:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* remove the floating point */
 304:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     clks = (clks + 5U) / 10U;
 532              		.loc 1 304 5 is_stmt 1 view .LVU155
 533              		.loc 1 304 18 is_stmt 0 view .LVU156
ARM GAS  /tmp/cc9oc1p7.s 			page 16


 534 0090 0531     		adds	r1, r1, #5
 535              	.LVL70:
 536              		.loc 1 304 10 view .LVU157
 537 0092 134B     		ldr	r3, .L30+12
 538 0094 A3FB0131 		umull	r3, r1, r3, r1
 539              	.LVL71:
 305:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     i2sof = (clks & 0x00000001U);
 540              		.loc 1 305 5 is_stmt 1 view .LVU158
 541              		.loc 1 305 11 is_stmt 0 view .LVU159
 542 0098 C1F3C003 		ubfx	r3, r1, #3, #1
 543              	.LVL72:
 306:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     i2sdiv = ((clks - i2sof) / 2U);
 544              		.loc 1 306 5 is_stmt 1 view .LVU160
 545              		.loc 1 306 21 is_stmt 0 view .LVU161
 546 009c C3EBD101 		rsb	r1, r3, r1, lsr #3
 547              	.LVL73:
 548              		.loc 1 306 12 view .LVU162
 549 00a0 4908     		lsrs	r1, r1, #1
 550              	.LVL74:
 307:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     i2sof = (i2sof << 8U);
 551              		.loc 1 307 5 is_stmt 1 view .LVU163
 552              		.loc 1 307 11 is_stmt 0 view .LVU164
 553 00a2 1B02     		lsls	r3, r3, #8
 554              	.LVL75:
 308:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 309:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* set the default values */
 310:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     if((i2sdiv < 2U) || (i2sdiv > 255U)) {
 555              		.loc 1 310 5 is_stmt 1 view .LVU165
 556              		.loc 1 310 22 is_stmt 0 view .LVU166
 557 00a4 8A1E     		subs	r2, r1, #2
 558              		.loc 1 310 7 view .LVU167
 559 00a6 FD2A     		cmp	r2, #253
 560 00a8 01D9     		bls	.L26
 311:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         i2sdiv = 2U;
 312:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         i2sof = 0U;
 561              		.loc 1 312 15 view .LVU168
 562 00aa 0023     		movs	r3, #0
 563              	.LVL76:
 311:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         i2sdiv = 2U;
 564              		.loc 1 311 16 view .LVU169
 565 00ac 0221     		movs	r1, #2
 566              	.LVL77:
 567              	.L26:
 313:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 314:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 315:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* configure SPI_I2SPSC */
 316:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_I2SPSC(spi_periph) = (uint32_t)(i2sdiv | i2sof | i2s_mckout);
 568              		.loc 1 316 5 is_stmt 1 view .LVU170
 569              		.loc 1 316 48 is_stmt 0 view .LVU171
 570 00ae 1943     		orrs	r1, r1, r3
 571              	.LVL78:
 572              		.loc 1 316 56 view .LVU172
 573 00b0 3943     		orrs	r1, r1, r7
 574              		.loc 1 316 28 view .LVU173
 575 00b2 2962     		str	r1, [r5, #32]
 317:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 318:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* clear SPI_I2SCTL_DTLEN and SPI_I2SCTL_CHLEN bits */
ARM GAS  /tmp/cc9oc1p7.s 			page 17


 319:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_I2SCTL(spi_periph) &= (uint32_t)(~(SPI_I2SCTL_DTLEN | SPI_I2SCTL_CHLEN));
 576              		.loc 1 319 5 is_stmt 1 view .LVU174
 577              		.loc 1 319 28 is_stmt 0 view .LVU175
 578 00b4 EB69     		ldr	r3, [r5, #28]
 579              	.LVL79:
 580              		.loc 1 319 28 view .LVU176
 581 00b6 23F00703 		bic	r3, r3, #7
 582 00ba EB61     		str	r3, [r5, #28]
 320:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* configure data frame format */
 321:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_I2SCTL(spi_periph) |= (uint32_t)i2s_frameformat;
 583              		.loc 1 321 5 is_stmt 1 view .LVU177
 584              		.loc 1 321 28 is_stmt 0 view .LVU178
 585 00bc EA69     		ldr	r2, [r5, #28]
 586 00be 1643     		orrs	r6, r6, r2
 587              	.LVL80:
 588              		.loc 1 321 28 view .LVU179
 589 00c0 EE61     		str	r6, [r5, #28]
 322:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 590              		.loc 1 322 1 view .LVU180
 591 00c2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 592              	.LVL81:
 593              	.L25:
 300:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         }
 594              		.loc 1 300 13 is_stmt 1 view .LVU181
 300:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         }
 595              		.loc 1 300 42 is_stmt 0 view .LVU182
 596 00c4 8909     		lsrs	r1, r1, #6
 597              	.LVL82:
 300:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         }
 598              		.loc 1 300 49 view .LVU183
 599 00c6 01EB8101 		add	r1, r1, r1, lsl #2
 600 00ca 4900     		lsls	r1, r1, #1
 300:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         }
 601              		.loc 1 300 18 view .LVU184
 602 00cc B1FBF4F1 		udiv	r1, r1, r4
 603              	.LVL83:
 300:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         }
 604              		.loc 1 300 18 view .LVU185
 605 00d0 DEE7     		b	.L24
 606              	.L31:
 607 00d2 00BF     		.align	2
 608              	.L30:
 609 00d4 00300240 		.word	1073885184
 610 00d8 40787D01 		.word	25000000
 611 00dc 0024F400 		.word	16000000
 612 00e0 CDCCCCCC 		.word	-858993459
 613              		.cfi_endproc
 614              	.LFE122:
 616              		.section	.text.i2s_enable,"ax",%progbits
 617              		.align	1
 618              		.global	i2s_enable
 619              		.syntax unified
 620              		.thumb
 621              		.thumb_func
 623              	i2s_enable:
 624              	.LVL84:
 625              	.LFB123:
ARM GAS  /tmp/cc9oc1p7.s 			page 18


 323:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 324:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 325:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      enable I2S
 326:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=1,2)
 327:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 328:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 329:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 330:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void i2s_enable(uint32_t spi_periph)
 331:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 626              		.loc 1 331 1 is_stmt 1 view -0
 627              		.cfi_startproc
 628              		@ args = 0, pretend = 0, frame = 0
 629              		@ frame_needed = 0, uses_anonymous_args = 0
 630              		@ link register save eliminated.
 332:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_I2SCTL(spi_periph) |= (uint32_t)SPI_I2SCTL_I2SEN;
 631              		.loc 1 332 5 view .LVU187
 632              		.loc 1 332 28 is_stmt 0 view .LVU188
 633 0000 C369     		ldr	r3, [r0, #28]
 634 0002 43F48063 		orr	r3, r3, #1024
 635 0006 C361     		str	r3, [r0, #28]
 333:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 636              		.loc 1 333 1 view .LVU189
 637 0008 7047     		bx	lr
 638              		.cfi_endproc
 639              	.LFE123:
 641              		.section	.text.i2s_disable,"ax",%progbits
 642              		.align	1
 643              		.global	i2s_disable
 644              		.syntax unified
 645              		.thumb
 646              		.thumb_func
 648              	i2s_disable:
 649              	.LVL85:
 650              	.LFB124:
 334:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 335:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 336:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      disable I2S
 337:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=1,2)
 338:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 339:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 340:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 341:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void i2s_disable(uint32_t spi_periph)
 342:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 651              		.loc 1 342 1 is_stmt 1 view -0
 652              		.cfi_startproc
 653              		@ args = 0, pretend = 0, frame = 0
 654              		@ frame_needed = 0, uses_anonymous_args = 0
 655              		@ link register save eliminated.
 343:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_I2SCTL(spi_periph) &= (uint32_t)(~SPI_I2SCTL_I2SEN);
 656              		.loc 1 343 5 view .LVU191
 657              		.loc 1 343 28 is_stmt 0 view .LVU192
 658 0000 C369     		ldr	r3, [r0, #28]
 659 0002 23F48063 		bic	r3, r3, #1024
 660 0006 C361     		str	r3, [r0, #28]
 344:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 661              		.loc 1 344 1 view .LVU193
 662 0008 7047     		bx	lr
ARM GAS  /tmp/cc9oc1p7.s 			page 19


 663              		.cfi_endproc
 664              	.LFE124:
 666              		.section	.text.spi_nss_output_enable,"ax",%progbits
 667              		.align	1
 668              		.global	spi_nss_output_enable
 669              		.syntax unified
 670              		.thumb
 671              		.thumb_func
 673              	spi_nss_output_enable:
 674              	.LVL86:
 675              	.LFB125:
 345:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 346:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 347:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      enable SPI nss output
 348:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 349:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 350:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 351:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 352:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_nss_output_enable(uint32_t spi_periph)
 353:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 676              		.loc 1 353 1 is_stmt 1 view -0
 677              		.cfi_startproc
 678              		@ args = 0, pretend = 0, frame = 0
 679              		@ frame_needed = 0, uses_anonymous_args = 0
 680              		@ link register save eliminated.
 354:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL1(spi_periph) |= (uint32_t)SPI_CTL1_NSSDRV;
 681              		.loc 1 354 5 view .LVU195
 682              		.loc 1 354 26 is_stmt 0 view .LVU196
 683 0000 4368     		ldr	r3, [r0, #4]
 684 0002 43F00403 		orr	r3, r3, #4
 685 0006 4360     		str	r3, [r0, #4]
 355:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 686              		.loc 1 355 1 view .LVU197
 687 0008 7047     		bx	lr
 688              		.cfi_endproc
 689              	.LFE125:
 691              		.section	.text.spi_nss_output_disable,"ax",%progbits
 692              		.align	1
 693              		.global	spi_nss_output_disable
 694              		.syntax unified
 695              		.thumb
 696              		.thumb_func
 698              	spi_nss_output_disable:
 699              	.LVL87:
 700              	.LFB126:
 356:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 357:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 358:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      disable SPI nss output
 359:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 360:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 361:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 362:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 363:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_nss_output_disable(uint32_t spi_periph)
 364:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 701              		.loc 1 364 1 is_stmt 1 view -0
 702              		.cfi_startproc
 703              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc9oc1p7.s 			page 20


 704              		@ frame_needed = 0, uses_anonymous_args = 0
 705              		@ link register save eliminated.
 365:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL1(spi_periph) &= (uint32_t)(~SPI_CTL1_NSSDRV);
 706              		.loc 1 365 5 view .LVU199
 707              		.loc 1 365 26 is_stmt 0 view .LVU200
 708 0000 4368     		ldr	r3, [r0, #4]
 709 0002 23F00403 		bic	r3, r3, #4
 710 0006 4360     		str	r3, [r0, #4]
 366:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 711              		.loc 1 366 1 view .LVU201
 712 0008 7047     		bx	lr
 713              		.cfi_endproc
 714              	.LFE126:
 716              		.section	.text.spi_nss_internal_high,"ax",%progbits
 717              		.align	1
 718              		.global	spi_nss_internal_high
 719              		.syntax unified
 720              		.thumb
 721              		.thumb_func
 723              	spi_nss_internal_high:
 724              	.LVL88:
 725              	.LFB127:
 367:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 368:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 369:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      SPI nss pin high level in software mode
 370:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 371:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 372:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 373:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 374:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_nss_internal_high(uint32_t spi_periph)
 375:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 726              		.loc 1 375 1 is_stmt 1 view -0
 727              		.cfi_startproc
 728              		@ args = 0, pretend = 0, frame = 0
 729              		@ frame_needed = 0, uses_anonymous_args = 0
 730              		@ link register save eliminated.
 376:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL0(spi_periph) |= (uint32_t)SPI_CTL0_SWNSS;
 731              		.loc 1 376 5 view .LVU203
 732              		.loc 1 376 26 is_stmt 0 view .LVU204
 733 0000 0368     		ldr	r3, [r0]
 734 0002 43F48073 		orr	r3, r3, #256
 735 0006 0360     		str	r3, [r0]
 377:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 736              		.loc 1 377 1 view .LVU205
 737 0008 7047     		bx	lr
 738              		.cfi_endproc
 739              	.LFE127:
 741              		.section	.text.spi_nss_internal_low,"ax",%progbits
 742              		.align	1
 743              		.global	spi_nss_internal_low
 744              		.syntax unified
 745              		.thumb
 746              		.thumb_func
 748              	spi_nss_internal_low:
 749              	.LVL89:
 750              	.LFB128:
 378:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
ARM GAS  /tmp/cc9oc1p7.s 			page 21


 379:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 380:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      SPI nss pin low level in software mode
 381:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 382:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 383:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 384:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 385:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_nss_internal_low(uint32_t spi_periph)
 386:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 751              		.loc 1 386 1 is_stmt 1 view -0
 752              		.cfi_startproc
 753              		@ args = 0, pretend = 0, frame = 0
 754              		@ frame_needed = 0, uses_anonymous_args = 0
 755              		@ link register save eliminated.
 387:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL0(spi_periph) &= (uint32_t)(~SPI_CTL0_SWNSS);
 756              		.loc 1 387 5 view .LVU207
 757              		.loc 1 387 26 is_stmt 0 view .LVU208
 758 0000 0368     		ldr	r3, [r0]
 759 0002 23F48073 		bic	r3, r3, #256
 760 0006 0360     		str	r3, [r0]
 388:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 761              		.loc 1 388 1 view .LVU209
 762 0008 7047     		bx	lr
 763              		.cfi_endproc
 764              	.LFE128:
 766              		.section	.text.spi_dma_enable,"ax",%progbits
 767              		.align	1
 768              		.global	spi_dma_enable
 769              		.syntax unified
 770              		.thumb
 771              		.thumb_func
 773              	spi_dma_enable:
 774              	.LVL90:
 775              	.LFB129:
 389:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 390:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 391:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      enable SPI DMA send or receive
 392:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 393:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_dma: SPI DMA mode
 394:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 395:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_DMA_TRANSMIT: SPI transmit data use DMA
 396:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_DMA_RECEIVE: SPI receive data use DMA
 397:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 398:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 399:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 400:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_dma_enable(uint32_t spi_periph, uint8_t spi_dma)
 401:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 776              		.loc 1 401 1 is_stmt 1 view -0
 777              		.cfi_startproc
 778              		@ args = 0, pretend = 0, frame = 0
 779              		@ frame_needed = 0, uses_anonymous_args = 0
 780              		@ link register save eliminated.
 402:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     if(SPI_DMA_TRANSMIT == spi_dma) {
 781              		.loc 1 402 5 view .LVU211
 782              		.loc 1 402 7 is_stmt 0 view .LVU212
 783 0000 21B9     		cbnz	r1, .L39
 403:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         SPI_CTL1(spi_periph) |= (uint32_t)SPI_CTL1_DMATEN;
 784              		.loc 1 403 9 is_stmt 1 view .LVU213
ARM GAS  /tmp/cc9oc1p7.s 			page 22


 785              		.loc 1 403 30 is_stmt 0 view .LVU214
 786 0002 4368     		ldr	r3, [r0, #4]
 787 0004 43F00203 		orr	r3, r3, #2
 788 0008 4360     		str	r3, [r0, #4]
 789 000a 7047     		bx	lr
 790              	.L39:
 404:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     } else {
 405:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         SPI_CTL1(spi_periph) |= (uint32_t)SPI_CTL1_DMAREN;
 791              		.loc 1 405 9 is_stmt 1 view .LVU215
 792              		.loc 1 405 30 is_stmt 0 view .LVU216
 793 000c 4368     		ldr	r3, [r0, #4]
 794 000e 43F00103 		orr	r3, r3, #1
 795 0012 4360     		str	r3, [r0, #4]
 406:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 407:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 796              		.loc 1 407 1 view .LVU217
 797 0014 7047     		bx	lr
 798              		.cfi_endproc
 799              	.LFE129:
 801              		.section	.text.spi_dma_disable,"ax",%progbits
 802              		.align	1
 803              		.global	spi_dma_disable
 804              		.syntax unified
 805              		.thumb
 806              		.thumb_func
 808              	spi_dma_disable:
 809              	.LVL91:
 810              	.LFB130:
 408:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 409:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 410:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      diable SPI DMA send or receive
 411:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 412:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_dma: SPI DMA mode
 413:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 414:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_DMA_TRANSMIT: SPI transmit data use DMA
 415:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_DMA_RECEIVE: SPI receive data use DMA
 416:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 417:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 418:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 419:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_dma_disable(uint32_t spi_periph, uint8_t spi_dma)
 420:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 811              		.loc 1 420 1 is_stmt 1 view -0
 812              		.cfi_startproc
 813              		@ args = 0, pretend = 0, frame = 0
 814              		@ frame_needed = 0, uses_anonymous_args = 0
 815              		@ link register save eliminated.
 421:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     if(SPI_DMA_TRANSMIT == spi_dma) {
 816              		.loc 1 421 5 view .LVU219
 817              		.loc 1 421 7 is_stmt 0 view .LVU220
 818 0000 21B9     		cbnz	r1, .L42
 422:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         SPI_CTL1(spi_periph) &= (uint32_t)(~SPI_CTL1_DMATEN);
 819              		.loc 1 422 9 is_stmt 1 view .LVU221
 820              		.loc 1 422 30 is_stmt 0 view .LVU222
 821 0002 4368     		ldr	r3, [r0, #4]
 822 0004 23F00203 		bic	r3, r3, #2
 823 0008 4360     		str	r3, [r0, #4]
 824 000a 7047     		bx	lr
ARM GAS  /tmp/cc9oc1p7.s 			page 23


 825              	.L42:
 423:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     } else {
 424:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         SPI_CTL1(spi_periph) &= (uint32_t)(~SPI_CTL1_DMAREN);
 826              		.loc 1 424 9 is_stmt 1 view .LVU223
 827              		.loc 1 424 30 is_stmt 0 view .LVU224
 828 000c 4368     		ldr	r3, [r0, #4]
 829 000e 23F00103 		bic	r3, r3, #1
 830 0012 4360     		str	r3, [r0, #4]
 425:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 426:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 831              		.loc 1 426 1 view .LVU225
 832 0014 7047     		bx	lr
 833              		.cfi_endproc
 834              	.LFE130:
 836              		.section	.text.spi_i2s_data_frame_format_config,"ax",%progbits
 837              		.align	1
 838              		.global	spi_i2s_data_frame_format_config
 839              		.syntax unified
 840              		.thumb
 841              		.thumb_func
 843              	spi_i2s_data_frame_format_config:
 844              	.LVL92:
 845              	.LFB131:
 427:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 428:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 429:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      configure SPI/I2S data frame format
 430:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 431:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  frame_format: SPI frame size
 432:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 433:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_FRAMESIZE_16BIT: SPI frame size is 16 bits
 434:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_FRAMESIZE_8BIT: SPI frame size is 8 bits
 435:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 436:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 437:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 438:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_i2s_data_frame_format_config(uint32_t spi_periph, uint16_t frame_format)
 439:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 846              		.loc 1 439 1 is_stmt 1 view -0
 847              		.cfi_startproc
 848              		@ args = 0, pretend = 0, frame = 0
 849              		@ frame_needed = 0, uses_anonymous_args = 0
 850              		@ link register save eliminated.
 440:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* clear SPI_CTL0_FF16 bit */
 441:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL0(spi_periph) &= (uint32_t)(~SPI_CTL0_FF16);
 851              		.loc 1 441 5 view .LVU227
 852              		.loc 1 441 26 is_stmt 0 view .LVU228
 853 0000 0268     		ldr	r2, [r0]
 854 0002 22F40062 		bic	r2, r2, #2048
 855 0006 0260     		str	r2, [r0]
 442:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* configure SPI_CTL0_FF16 bit */
 443:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL0(spi_periph) |= (uint32_t)frame_format;
 856              		.loc 1 443 5 is_stmt 1 view .LVU229
 857              		.loc 1 443 26 is_stmt 0 view .LVU230
 858 0008 0368     		ldr	r3, [r0]
 859 000a 0B43     		orrs	r3, r3, r1
 860 000c 0360     		str	r3, [r0]
 444:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 861              		.loc 1 444 1 view .LVU231
ARM GAS  /tmp/cc9oc1p7.s 			page 24


 862 000e 7047     		bx	lr
 863              		.cfi_endproc
 864              	.LFE131:
 866              		.section	.text.spi_i2s_data_transmit,"ax",%progbits
 867              		.align	1
 868              		.global	spi_i2s_data_transmit
 869              		.syntax unified
 870              		.thumb
 871              		.thumb_func
 873              	spi_i2s_data_transmit:
 874              	.LVL93:
 875              	.LFB132:
 445:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 446:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 447:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      SPI transmit data
 448:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 449:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  data: 16-bit data
 450:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 451:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 452:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 453:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_i2s_data_transmit(uint32_t spi_periph, uint16_t data)
 454:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 876              		.loc 1 454 1 is_stmt 1 view -0
 877              		.cfi_startproc
 878              		@ args = 0, pretend = 0, frame = 0
 879              		@ frame_needed = 0, uses_anonymous_args = 0
 880              		@ link register save eliminated.
 455:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_DATA(spi_periph) = (uint32_t)data;
 881              		.loc 1 455 5 view .LVU233
 882              		.loc 1 455 26 is_stmt 0 view .LVU234
 883 0000 C160     		str	r1, [r0, #12]
 456:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 884              		.loc 1 456 1 view .LVU235
 885 0002 7047     		bx	lr
 886              		.cfi_endproc
 887              	.LFE132:
 889              		.section	.text.spi_i2s_data_receive,"ax",%progbits
 890              		.align	1
 891              		.global	spi_i2s_data_receive
 892              		.syntax unified
 893              		.thumb
 894              		.thumb_func
 896              	spi_i2s_data_receive:
 897              	.LVL94:
 898              	.LFB133:
 457:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 458:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 459:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      SPI receive data
 460:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 461:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 462:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     16-bit data
 463:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 464:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** uint16_t spi_i2s_data_receive(uint32_t spi_periph)
 465:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 899              		.loc 1 465 1 is_stmt 1 view -0
 900              		.cfi_startproc
 901              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc9oc1p7.s 			page 25


 902              		@ frame_needed = 0, uses_anonymous_args = 0
 903              		@ link register save eliminated.
 466:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     return ((uint16_t)SPI_DATA(spi_periph));
 904              		.loc 1 466 5 view .LVU237
 905              		.loc 1 466 23 is_stmt 0 view .LVU238
 906 0000 C068     		ldr	r0, [r0, #12]
 907              	.LVL95:
 467:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 908              		.loc 1 467 1 view .LVU239
 909 0002 80B2     		uxth	r0, r0
 910 0004 7047     		bx	lr
 911              		.cfi_endproc
 912              	.LFE133:
 914              		.section	.text.spi_bidirectional_transfer_config,"ax",%progbits
 915              		.align	1
 916              		.global	spi_bidirectional_transfer_config
 917              		.syntax unified
 918              		.thumb
 919              		.thumb_func
 921              	spi_bidirectional_transfer_config:
 922              	.LVL96:
 923              	.LFB134:
 468:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 469:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 470:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      configure SPI bidirectional transfer direction
 471:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 472:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  transfer_direction: SPI transfer direction
 473:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 474:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_BIDIRECTIONAL_TRANSMIT: SPI work in transmit-only mode
 475:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_BIDIRECTIONAL_RECEIVE: SPI work in receive-only mode
 476:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 477:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 478:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_bidirectional_transfer_config(uint32_t spi_periph, uint32_t transfer_direction)
 479:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 924              		.loc 1 479 1 is_stmt 1 view -0
 925              		.cfi_startproc
 926              		@ args = 0, pretend = 0, frame = 0
 927              		@ frame_needed = 0, uses_anonymous_args = 0
 928              		@ link register save eliminated.
 480:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     if(SPI_BIDIRECTIONAL_TRANSMIT == transfer_direction) {
 929              		.loc 1 480 5 view .LVU241
 930              		.loc 1 480 7 is_stmt 0 view .LVU242
 931 0000 B1F5804F 		cmp	r1, #16384
 932 0004 04D0     		beq	.L50
 481:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         /* set the transmit only mode */
 482:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         SPI_CTL0(spi_periph) |= (uint32_t)SPI_BIDIRECTIONAL_TRANSMIT;
 483:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     } else {
 484:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         /* set the receive only mode */
 485:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         SPI_CTL0(spi_periph) &= SPI_BIDIRECTIONAL_RECEIVE;
 933              		.loc 1 485 9 is_stmt 1 view .LVU243
 934              		.loc 1 485 30 is_stmt 0 view .LVU244
 935 0006 0368     		ldr	r3, [r0]
 936 0008 23F48043 		bic	r3, r3, #16384
 937 000c 0360     		str	r3, [r0]
 486:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 487:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 938              		.loc 1 487 1 view .LVU245
ARM GAS  /tmp/cc9oc1p7.s 			page 26


 939 000e 7047     		bx	lr
 940              	.L50:
 482:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     } else {
 941              		.loc 1 482 9 is_stmt 1 view .LVU246
 482:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     } else {
 942              		.loc 1 482 30 is_stmt 0 view .LVU247
 943 0010 0368     		ldr	r3, [r0]
 944 0012 43F48043 		orr	r3, r3, #16384
 945 0016 0360     		str	r3, [r0]
 946 0018 7047     		bx	lr
 947              		.cfi_endproc
 948              	.LFE134:
 950              		.section	.text.spi_crc_polynomial_set,"ax",%progbits
 951              		.align	1
 952              		.global	spi_crc_polynomial_set
 953              		.syntax unified
 954              		.thumb
 955              		.thumb_func
 957              	spi_crc_polynomial_set:
 958              	.LVL97:
 959              	.LFB135:
 488:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 489:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 490:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      set SPI CRC polynomial
 491:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 492:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  crc_poly: CRC polynomial value
 493:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 494:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 495:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 496:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_crc_polynomial_set(uint32_t spi_periph, uint16_t crc_poly)
 497:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 960              		.loc 1 497 1 is_stmt 1 view -0
 961              		.cfi_startproc
 962              		@ args = 0, pretend = 0, frame = 0
 963              		@ frame_needed = 0, uses_anonymous_args = 0
 964              		@ link register save eliminated.
 498:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* set SPI CRC polynomial */
 499:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CRCPOLY(spi_periph) = (uint32_t)crc_poly;
 965              		.loc 1 499 5 view .LVU249
 966              		.loc 1 499 29 is_stmt 0 view .LVU250
 967 0000 0161     		str	r1, [r0, #16]
 500:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 968              		.loc 1 500 1 view .LVU251
 969 0002 7047     		bx	lr
 970              		.cfi_endproc
 971              	.LFE135:
 973              		.section	.text.spi_crc_polynomial_get,"ax",%progbits
 974              		.align	1
 975              		.global	spi_crc_polynomial_get
 976              		.syntax unified
 977              		.thumb
 978              		.thumb_func
 980              	spi_crc_polynomial_get:
 981              	.LVL98:
 982              	.LFB136:
 501:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 502:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
ARM GAS  /tmp/cc9oc1p7.s 			page 27


 503:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      get SPI CRC polynomial
 504:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 505:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 506:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     16-bit CRC polynomial
 507:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 508:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** uint16_t spi_crc_polynomial_get(uint32_t spi_periph)
 509:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 983              		.loc 1 509 1 is_stmt 1 view -0
 984              		.cfi_startproc
 985              		@ args = 0, pretend = 0, frame = 0
 986              		@ frame_needed = 0, uses_anonymous_args = 0
 987              		@ link register save eliminated.
 510:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     return ((uint16_t)SPI_CRCPOLY(spi_periph));
 988              		.loc 1 510 5 view .LVU253
 989              		.loc 1 510 23 is_stmt 0 view .LVU254
 990 0000 0069     		ldr	r0, [r0, #16]
 991              	.LVL99:
 511:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 992              		.loc 1 511 1 view .LVU255
 993 0002 80B2     		uxth	r0, r0
 994 0004 7047     		bx	lr
 995              		.cfi_endproc
 996              	.LFE136:
 998              		.section	.text.spi_crc_on,"ax",%progbits
 999              		.align	1
 1000              		.global	spi_crc_on
 1001              		.syntax unified
 1002              		.thumb
 1003              		.thumb_func
 1005              	spi_crc_on:
 1006              	.LVL100:
 1007              	.LFB137:
 512:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 513:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 514:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      turn on SPI CRC function
 515:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 516:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 517:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 518:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 519:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_crc_on(uint32_t spi_periph)
 520:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1008              		.loc 1 520 1 is_stmt 1 view -0
 1009              		.cfi_startproc
 1010              		@ args = 0, pretend = 0, frame = 0
 1011              		@ frame_needed = 0, uses_anonymous_args = 0
 1012              		@ link register save eliminated.
 521:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL0(spi_periph) |= (uint32_t)SPI_CTL0_CRCEN;
 1013              		.loc 1 521 5 view .LVU257
 1014              		.loc 1 521 26 is_stmt 0 view .LVU258
 1015 0000 0368     		ldr	r3, [r0]
 1016 0002 43F40053 		orr	r3, r3, #8192
 1017 0006 0360     		str	r3, [r0]
 522:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1018              		.loc 1 522 1 view .LVU259
 1019 0008 7047     		bx	lr
 1020              		.cfi_endproc
 1021              	.LFE137:
ARM GAS  /tmp/cc9oc1p7.s 			page 28


 1023              		.section	.text.spi_crc_off,"ax",%progbits
 1024              		.align	1
 1025              		.global	spi_crc_off
 1026              		.syntax unified
 1027              		.thumb
 1028              		.thumb_func
 1030              	spi_crc_off:
 1031              	.LVL101:
 1032              	.LFB138:
 523:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 524:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 525:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      turn off SPI CRC function
 526:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 527:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 528:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 529:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 530:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_crc_off(uint32_t spi_periph)
 531:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1033              		.loc 1 531 1 is_stmt 1 view -0
 1034              		.cfi_startproc
 1035              		@ args = 0, pretend = 0, frame = 0
 1036              		@ frame_needed = 0, uses_anonymous_args = 0
 1037              		@ link register save eliminated.
 532:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL0(spi_periph) &= (uint32_t)(~SPI_CTL0_CRCEN);
 1038              		.loc 1 532 5 view .LVU261
 1039              		.loc 1 532 26 is_stmt 0 view .LVU262
 1040 0000 0368     		ldr	r3, [r0]
 1041 0002 23F40053 		bic	r3, r3, #8192
 1042 0006 0360     		str	r3, [r0]
 533:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1043              		.loc 1 533 1 view .LVU263
 1044 0008 7047     		bx	lr
 1045              		.cfi_endproc
 1046              	.LFE138:
 1048              		.section	.text.spi_crc_next,"ax",%progbits
 1049              		.align	1
 1050              		.global	spi_crc_next
 1051              		.syntax unified
 1052              		.thumb
 1053              		.thumb_func
 1055              	spi_crc_next:
 1056              	.LVL102:
 1057              	.LFB139:
 534:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 535:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 536:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      SPI next data is CRC value
 537:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 538:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 539:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 540:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 541:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_crc_next(uint32_t spi_periph)
 542:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1058              		.loc 1 542 1 is_stmt 1 view -0
 1059              		.cfi_startproc
 1060              		@ args = 0, pretend = 0, frame = 0
 1061              		@ frame_needed = 0, uses_anonymous_args = 0
 1062              		@ link register save eliminated.
ARM GAS  /tmp/cc9oc1p7.s 			page 29


 543:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL0(spi_periph) |= (uint32_t)SPI_CTL0_CRCNT;
 1063              		.loc 1 543 5 view .LVU265
 1064              		.loc 1 543 26 is_stmt 0 view .LVU266
 1065 0000 0368     		ldr	r3, [r0]
 1066 0002 43F48053 		orr	r3, r3, #4096
 1067 0006 0360     		str	r3, [r0]
 544:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1068              		.loc 1 544 1 view .LVU267
 1069 0008 7047     		bx	lr
 1070              		.cfi_endproc
 1071              	.LFE139:
 1073              		.section	.text.spi_crc_get,"ax",%progbits
 1074              		.align	1
 1075              		.global	spi_crc_get
 1076              		.syntax unified
 1077              		.thumb
 1078              		.thumb_func
 1080              	spi_crc_get:
 1081              	.LVL103:
 1082              	.LFB140:
 545:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 546:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 547:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      get SPI CRC send value or receive value
 548:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 549:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_crc: SPI crc value
 550:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 551:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_CRC_TX: get transmit crc value
 552:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_CRC_RX: get receive crc value
 553:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 554:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     16-bit CRC value
 555:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 556:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** uint16_t spi_crc_get(uint32_t spi_periph, uint8_t spi_crc)
 557:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1083              		.loc 1 557 1 is_stmt 1 view -0
 1084              		.cfi_startproc
 1085              		@ args = 0, pretend = 0, frame = 0
 1086              		@ frame_needed = 0, uses_anonymous_args = 0
 1087              		@ link register save eliminated.
 558:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     if(SPI_CRC_TX == spi_crc) {
 1088              		.loc 1 558 5 view .LVU269
 1089              		.loc 1 558 7 is_stmt 0 view .LVU270
 1090 0000 11B9     		cbnz	r1, .L57
 559:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         return ((uint16_t)(SPI_TCRC(spi_periph)));
 1091              		.loc 1 559 9 is_stmt 1 view .LVU271
 1092              		.loc 1 559 28 is_stmt 0 view .LVU272
 1093 0002 8069     		ldr	r0, [r0, #24]
 1094              	.LVL104:
 1095              		.loc 1 559 17 view .LVU273
 1096 0004 80B2     		uxth	r0, r0
 1097 0006 7047     		bx	lr
 1098              	.LVL105:
 1099              	.L57:
 560:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     } else {
 561:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         return ((uint16_t)(SPI_RCRC(spi_periph)));
 1100              		.loc 1 561 9 is_stmt 1 view .LVU274
 1101              		.loc 1 561 28 is_stmt 0 view .LVU275
 1102 0008 4069     		ldr	r0, [r0, #20]
ARM GAS  /tmp/cc9oc1p7.s 			page 30


 1103              	.LVL106:
 1104              		.loc 1 561 17 view .LVU276
 1105 000a 80B2     		uxth	r0, r0
 562:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 563:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1106              		.loc 1 563 1 view .LVU277
 1107 000c 7047     		bx	lr
 1108              		.cfi_endproc
 1109              	.LFE140:
 1111              		.section	.text.spi_ti_mode_enable,"ax",%progbits
 1112              		.align	1
 1113              		.global	spi_ti_mode_enable
 1114              		.syntax unified
 1115              		.thumb
 1116              		.thumb_func
 1118              	spi_ti_mode_enable:
 1119              	.LVL107:
 1120              	.LFB141:
 564:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 565:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 566:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      enable SPI TI mode
 567:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 568:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 569:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 570:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 571:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_ti_mode_enable(uint32_t spi_periph)
 572:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1121              		.loc 1 572 1 is_stmt 1 view -0
 1122              		.cfi_startproc
 1123              		@ args = 0, pretend = 0, frame = 0
 1124              		@ frame_needed = 0, uses_anonymous_args = 0
 1125              		@ link register save eliminated.
 573:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL1(spi_periph) |= (uint32_t)SPI_CTL1_TMOD;
 1126              		.loc 1 573 5 view .LVU279
 1127              		.loc 1 573 26 is_stmt 0 view .LVU280
 1128 0000 4368     		ldr	r3, [r0, #4]
 1129 0002 43F01003 		orr	r3, r3, #16
 1130 0006 4360     		str	r3, [r0, #4]
 574:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1131              		.loc 1 574 1 view .LVU281
 1132 0008 7047     		bx	lr
 1133              		.cfi_endproc
 1134              	.LFE141:
 1136              		.section	.text.spi_ti_mode_disable,"ax",%progbits
 1137              		.align	1
 1138              		.global	spi_ti_mode_disable
 1139              		.syntax unified
 1140              		.thumb
 1141              		.thumb_func
 1143              	spi_ti_mode_disable:
 1144              	.LVL108:
 1145              	.LFB142:
 575:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 576:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 577:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      disable SPI TI mode
 578:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 579:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
ARM GAS  /tmp/cc9oc1p7.s 			page 31


 580:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 581:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 582:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_ti_mode_disable(uint32_t spi_periph)
 583:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1146              		.loc 1 583 1 is_stmt 1 view -0
 1147              		.cfi_startproc
 1148              		@ args = 0, pretend = 0, frame = 0
 1149              		@ frame_needed = 0, uses_anonymous_args = 0
 1150              		@ link register save eliminated.
 584:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_CTL1(spi_periph) &= (uint32_t)(~SPI_CTL1_TMOD);
 1151              		.loc 1 584 5 view .LVU283
 1152              		.loc 1 584 26 is_stmt 0 view .LVU284
 1153 0000 4368     		ldr	r3, [r0, #4]
 1154 0002 23F01003 		bic	r3, r3, #16
 1155 0006 4360     		str	r3, [r0, #4]
 585:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1156              		.loc 1 585 1 view .LVU285
 1157 0008 7047     		bx	lr
 1158              		.cfi_endproc
 1159              	.LFE142:
 1161              		.section	.text.i2s_full_duplex_mode_config,"ax",%progbits
 1162              		.align	1
 1163              		.global	i2s_full_duplex_mode_config
 1164              		.syntax unified
 1165              		.thumb
 1166              		.thumb_func
 1168              	i2s_full_duplex_mode_config:
 1169              	.LVL109:
 1170              	.LFB143:
 586:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 587:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 588:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      configure i2s full duplex mode
 589:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  i2s_add_periph: I2Sx_ADD(x=1,2)
 590:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  i2s_mode:
 591:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_MODE_SLAVETX : I2S slave transmit mode
 592:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_MODE_SLAVERX : I2S slave receive mode
 593:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_MODE_MASTERTX : I2S master transmit mode
 594:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_MODE_MASTERRX : I2S master receive mode
 595:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  i2s_standard:
 596:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_STD_PHILLIPS : I2S phillips standard
 597:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_STD_MSB : I2S MSB standard
 598:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_STD_LSB : I2S LSB standard
 599:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_STD_PCMSHORT : I2S PCM short standard
 600:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_STD_PCMLONG : I2S PCM long standard
 601:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  i2s_ckpl:
 602:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_CKPL_LOW : I2S clock polarity low level
 603:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_CKPL_HIGH : I2S clock polarity high level
 604:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  i2s_frameformat:
 605:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FRAMEFORMAT_DT16B_CH16B: I2S data length is 16 bit and channel length is 16 b
 606:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FRAMEFORMAT_DT16B_CH32B: I2S data length is 16 bit and channel length is 32 b
 607:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FRAMEFORMAT_DT24B_CH32B: I2S data length is 24 bit and channel length is 32 b
 608:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FRAMEFORMAT_DT32B_CH32B: I2S data length is 32 bit and channel length is 32 b
 609:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 610:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 611:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 612:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void i2s_full_duplex_mode_config(uint32_t i2s_add_periph, uint32_t i2s_mode, uint32_t i2s_standard,
 613:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                                  uint32_t i2s_ckpl, uint32_t i2s_frameformat)
ARM GAS  /tmp/cc9oc1p7.s 			page 32


 614:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1171              		.loc 1 614 1 is_stmt 1 view -0
 1172              		.cfi_startproc
 1173              		@ args = 4, pretend = 0, frame = 0
 1174              		@ frame_needed = 0, uses_anonymous_args = 0
 1175              		@ link register save eliminated.
 1176              		.loc 1 614 1 is_stmt 0 view .LVU287
 1177 0000 10B4     		push	{r4}
 1178              	.LCFI4:
 1179              		.cfi_def_cfa_offset 4
 1180              		.cfi_offset 4, -4
 615:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     uint32_t reg = 0U, tmp = 0U;
 1181              		.loc 1 615 5 is_stmt 1 view .LVU288
 1182              	.LVL110:
 616:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 617:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg = I2S_ADD_I2SCTL(i2s_add_periph);
 1183              		.loc 1 617 5 view .LVU289
 1184              		.loc 1 617 9 is_stmt 0 view .LVU290
 1185 0002 C469     		ldr	r4, [r0, #28]
 1186              	.LVL111:
 618:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg &= I2S_FULL_DUPLEX_MASK;
 1187              		.loc 1 618 5 is_stmt 1 view .LVU291
 1188              		.loc 1 618 9 is_stmt 0 view .LVU292
 1189 0004 04F4906C 		and	ip, r4, #1152
 1190              	.LVL112:
 619:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 620:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* get the mode of the extra I2S module I2Sx_ADD */
 621:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     if((I2S_MODE_MASTERTX == i2s_mode) || (I2S_MODE_SLAVETX == i2s_mode)) {
 1191              		.loc 1 621 5 is_stmt 1 view .LVU293
 1192              		.loc 1 621 7 is_stmt 0 view .LVU294
 1193 0008 B1F5007F 		cmp	r1, #512
 1194 000c 03D0     		beq	.L63
 1195              		.loc 1 621 40 discriminator 1 view .LVU295
 1196 000e 81B9     		cbnz	r1, .L64
 622:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         tmp = I2S_MODE_SLAVERX;
 1197              		.loc 1 622 13 view .LVU296
 1198 0010 4FF48071 		mov	r1, #256
 1199              	.LVL113:
 1200              		.loc 1 622 13 view .LVU297
 1201 0014 01E0     		b	.L62
 1202              	.LVL114:
 1203              	.L63:
 1204              		.loc 1 622 13 view .LVU298
 1205 0016 4FF48071 		mov	r1, #256
 1206              	.LVL115:
 1207              	.L62:
 623:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     } else {
 624:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         tmp = I2S_MODE_SLAVETX;
 625:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 626:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 627:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* enable I2S mode */
 628:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= (uint32_t)SPI_I2SCTL_I2SSEL;
 1208              		.loc 1 628 5 is_stmt 1 view .LVU299
 1209              		.loc 1 628 9 is_stmt 0 view .LVU300
 1210 001a 4CF4006C 		orr	ip, ip, #2048
 1211              	.LVL116:
 629:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select I2S mode */
ARM GAS  /tmp/cc9oc1p7.s 			page 33


 630:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= (uint32_t)tmp;
 1212              		.loc 1 630 5 is_stmt 1 view .LVU301
 1213              		.loc 1 630 9 is_stmt 0 view .LVU302
 1214 001e 41EA0C01 		orr	r1, r1, ip
 1215              	.LVL117:
 631:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select I2S standard */
 632:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= (uint32_t)i2s_standard;
 1216              		.loc 1 632 5 is_stmt 1 view .LVU303
 1217              		.loc 1 632 9 is_stmt 0 view .LVU304
 1218 0022 0A43     		orrs	r2, r2, r1
 1219              	.LVL118:
 633:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* select I2S polarity */
 634:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= (uint32_t)i2s_ckpl;
 1220              		.loc 1 634 5 is_stmt 1 view .LVU305
 1221              		.loc 1 634 9 is_stmt 0 view .LVU306
 1222 0024 1343     		orrs	r3, r3, r2
 1223              	.LVL119:
 635:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* configure data frame format */
 636:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     reg |= (uint32_t)i2s_frameformat;
 1224              		.loc 1 636 5 is_stmt 1 view .LVU307
 1225              		.loc 1 636 9 is_stmt 0 view .LVU308
 1226 0026 019A     		ldr	r2, [sp, #4]
 1227 0028 1343     		orrs	r3, r3, r2
 1228              	.LVL120:
 637:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 638:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* write to SPI_I2SCTL register */
 639:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     I2S_ADD_I2SCTL(i2s_add_periph) = (uint32_t)reg;
 1229              		.loc 1 639 5 is_stmt 1 view .LVU309
 1230              		.loc 1 639 36 is_stmt 0 view .LVU310
 1231 002a C361     		str	r3, [r0, #28]
 640:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1232              		.loc 1 640 1 view .LVU311
 1233 002c 5DF8044B 		ldr	r4, [sp], #4
 1234              	.LCFI5:
 1235              		.cfi_remember_state
 1236              		.cfi_restore 4
 1237              		.cfi_def_cfa_offset 0
 1238              	.LVL121:
 1239              		.loc 1 640 1 view .LVU312
 1240 0030 7047     		bx	lr
 1241              	.LVL122:
 1242              	.L64:
 1243              	.LCFI6:
 1244              		.cfi_restore_state
 624:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 1245              		.loc 1 624 13 view .LVU313
 1246 0032 0021     		movs	r1, #0
 1247              	.LVL123:
 624:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 1248              		.loc 1 624 13 view .LVU314
 1249 0034 F1E7     		b	.L62
 1250              		.cfi_endproc
 1251              	.LFE143:
 1253              		.section	.text.spi_quad_enable,"ax",%progbits
 1254              		.align	1
 1255              		.global	spi_quad_enable
 1256              		.syntax unified
ARM GAS  /tmp/cc9oc1p7.s 			page 34


 1257              		.thumb
 1258              		.thumb_func
 1260              	spi_quad_enable:
 1261              	.LVL124:
 1262              	.LFB144:
 641:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 642:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 643:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      enable quad wire SPI
 644:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(only x=5)
 645:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 646:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 647:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 648:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_quad_enable(uint32_t spi_periph)
 649:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1263              		.loc 1 649 1 is_stmt 1 view -0
 1264              		.cfi_startproc
 1265              		@ args = 0, pretend = 0, frame = 0
 1266              		@ frame_needed = 0, uses_anonymous_args = 0
 1267              		@ link register save eliminated.
 650:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_QCTL(spi_periph) |= (uint32_t)SPI_QCTL_QMOD;
 1268              		.loc 1 650 5 view .LVU316
 1269              		.loc 1 650 26 is_stmt 0 view .LVU317
 1270 0000 D0F88030 		ldr	r3, [r0, #128]
 1271 0004 43F00103 		orr	r3, r3, #1
 1272 0008 C0F88030 		str	r3, [r0, #128]
 651:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1273              		.loc 1 651 1 view .LVU318
 1274 000c 7047     		bx	lr
 1275              		.cfi_endproc
 1276              	.LFE144:
 1278              		.section	.text.spi_quad_disable,"ax",%progbits
 1279              		.align	1
 1280              		.global	spi_quad_disable
 1281              		.syntax unified
 1282              		.thumb
 1283              		.thumb_func
 1285              	spi_quad_disable:
 1286              	.LVL125:
 1287              	.LFB145:
 652:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 653:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 654:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      disable quad wire SPI
 655:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(only x=5)
 656:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 657:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 658:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 659:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_quad_disable(uint32_t spi_periph)
 660:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1288              		.loc 1 660 1 is_stmt 1 view -0
 1289              		.cfi_startproc
 1290              		@ args = 0, pretend = 0, frame = 0
 1291              		@ frame_needed = 0, uses_anonymous_args = 0
 1292              		@ link register save eliminated.
 661:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_QCTL(spi_periph) &= (uint32_t)(~SPI_QCTL_QMOD);
 1293              		.loc 1 661 5 view .LVU320
 1294              		.loc 1 661 26 is_stmt 0 view .LVU321
 1295 0000 D0F88030 		ldr	r3, [r0, #128]
ARM GAS  /tmp/cc9oc1p7.s 			page 35


 1296 0004 23F00103 		bic	r3, r3, #1
 1297 0008 C0F88030 		str	r3, [r0, #128]
 662:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1298              		.loc 1 662 1 view .LVU322
 1299 000c 7047     		bx	lr
 1300              		.cfi_endproc
 1301              	.LFE145:
 1303              		.section	.text.spi_quad_write_enable,"ax",%progbits
 1304              		.align	1
 1305              		.global	spi_quad_write_enable
 1306              		.syntax unified
 1307              		.thumb
 1308              		.thumb_func
 1310              	spi_quad_write_enable:
 1311              	.LVL126:
 1312              	.LFB146:
 663:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 664:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 665:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      enable quad wire SPI write
 666:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(only x=5)
 667:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 668:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 669:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 670:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_quad_write_enable(uint32_t spi_periph)
 671:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1313              		.loc 1 671 1 is_stmt 1 view -0
 1314              		.cfi_startproc
 1315              		@ args = 0, pretend = 0, frame = 0
 1316              		@ frame_needed = 0, uses_anonymous_args = 0
 1317              		@ link register save eliminated.
 672:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_QCTL(spi_periph) &= (uint32_t)(~SPI_QCTL_QRD);
 1318              		.loc 1 672 5 view .LVU324
 1319              		.loc 1 672 26 is_stmt 0 view .LVU325
 1320 0000 D0F88030 		ldr	r3, [r0, #128]
 1321 0004 23F00203 		bic	r3, r3, #2
 1322 0008 C0F88030 		str	r3, [r0, #128]
 673:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1323              		.loc 1 673 1 view .LVU326
 1324 000c 7047     		bx	lr
 1325              		.cfi_endproc
 1326              	.LFE146:
 1328              		.section	.text.spi_quad_read_enable,"ax",%progbits
 1329              		.align	1
 1330              		.global	spi_quad_read_enable
 1331              		.syntax unified
 1332              		.thumb
 1333              		.thumb_func
 1335              	spi_quad_read_enable:
 1336              	.LVL127:
 1337              	.LFB147:
 674:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 675:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 676:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      enable quad wire SPI read
 677:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(only x=5)
 678:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 679:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 680:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
ARM GAS  /tmp/cc9oc1p7.s 			page 36


 681:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_quad_read_enable(uint32_t spi_periph)
 682:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1338              		.loc 1 682 1 is_stmt 1 view -0
 1339              		.cfi_startproc
 1340              		@ args = 0, pretend = 0, frame = 0
 1341              		@ frame_needed = 0, uses_anonymous_args = 0
 1342              		@ link register save eliminated.
 683:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_QCTL(spi_periph) |= (uint32_t)SPI_QCTL_QRD;
 1343              		.loc 1 683 5 view .LVU328
 1344              		.loc 1 683 26 is_stmt 0 view .LVU329
 1345 0000 D0F88030 		ldr	r3, [r0, #128]
 1346 0004 43F00203 		orr	r3, r3, #2
 1347 0008 C0F88030 		str	r3, [r0, #128]
 684:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1348              		.loc 1 684 1 view .LVU330
 1349 000c 7047     		bx	lr
 1350              		.cfi_endproc
 1351              	.LFE147:
 1353              		.section	.text.spi_quad_io23_output_enable,"ax",%progbits
 1354              		.align	1
 1355              		.global	spi_quad_io23_output_enable
 1356              		.syntax unified
 1357              		.thumb
 1358              		.thumb_func
 1360              	spi_quad_io23_output_enable:
 1361              	.LVL128:
 1362              	.LFB148:
 685:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 686:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 687:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      enable SPI_IO2 and SPI_IO3 pin output
 688:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(only x=5)
 689:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 690:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 691:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 692:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_quad_io23_output_enable(uint32_t spi_periph)
 693:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1363              		.loc 1 693 1 is_stmt 1 view -0
 1364              		.cfi_startproc
 1365              		@ args = 0, pretend = 0, frame = 0
 1366              		@ frame_needed = 0, uses_anonymous_args = 0
 1367              		@ link register save eliminated.
 694:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_QCTL(spi_periph) |= (uint32_t)SPI_QCTL_IO23_DRV;
 1368              		.loc 1 694 5 view .LVU332
 1369              		.loc 1 694 26 is_stmt 0 view .LVU333
 1370 0000 D0F88030 		ldr	r3, [r0, #128]
 1371 0004 43F00403 		orr	r3, r3, #4
 1372 0008 C0F88030 		str	r3, [r0, #128]
 695:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1373              		.loc 1 695 1 view .LVU334
 1374 000c 7047     		bx	lr
 1375              		.cfi_endproc
 1376              	.LFE148:
 1378              		.section	.text.spi_quad_io23_output_disable,"ax",%progbits
 1379              		.align	1
 1380              		.global	spi_quad_io23_output_disable
 1381              		.syntax unified
 1382              		.thumb
ARM GAS  /tmp/cc9oc1p7.s 			page 37


 1383              		.thumb_func
 1385              	spi_quad_io23_output_disable:
 1386              	.LVL129:
 1387              	.LFB149:
 696:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 697:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 698:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****    \brief      disable SPI_IO2 and SPI_IO3 pin output
 699:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****    \param[in]  spi_periph: SPIx(only x=5)
 700:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****    \param[out] none
 701:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****    \retval     none
 702:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 703:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_quad_io23_output_disable(uint32_t spi_periph)
 704:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1388              		.loc 1 704 1 is_stmt 1 view -0
 1389              		.cfi_startproc
 1390              		@ args = 0, pretend = 0, frame = 0
 1391              		@ frame_needed = 0, uses_anonymous_args = 0
 1392              		@ link register save eliminated.
 705:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_QCTL(spi_periph) &= (uint32_t)(~SPI_QCTL_IO23_DRV);
 1393              		.loc 1 705 5 view .LVU336
 1394              		.loc 1 705 26 is_stmt 0 view .LVU337
 1395 0000 D0F88030 		ldr	r3, [r0, #128]
 1396 0004 23F00403 		bic	r3, r3, #4
 1397 0008 C0F88030 		str	r3, [r0, #128]
 706:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1398              		.loc 1 706 1 view .LVU338
 1399 000c 7047     		bx	lr
 1400              		.cfi_endproc
 1401              	.LFE149:
 1403              		.section	.text.spi_i2s_interrupt_enable,"ax",%progbits
 1404              		.align	1
 1405              		.global	spi_i2s_interrupt_enable
 1406              		.syntax unified
 1407              		.thumb
 1408              		.thumb_func
 1410              	spi_i2s_interrupt_enable:
 1411              	.LVL130:
 1412              	.LFB150:
 707:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 708:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 709:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      enable SPI and I2S interrupt
 710:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 711:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_i2s_int: SPI/I2S interrupt
 712:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 713:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_I2S_INT_TBE: transmit buffer empty interrupt
 714:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_I2S_INT_RBNE: receive buffer not empty interrupt
 715:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_I2S_INT_ERR: CRC error,configuration error,reception overrun error,
 716:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                                    transmission underrun error and format error interrupt
 717:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 718:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 719:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 720:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_i2s_interrupt_enable(uint32_t spi_periph, uint8_t spi_i2s_int)
 721:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1413              		.loc 1 721 1 is_stmt 1 view -0
 1414              		.cfi_startproc
 1415              		@ args = 0, pretend = 0, frame = 0
 1416              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cc9oc1p7.s 			page 38


 1417              		@ link register save eliminated.
 722:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     switch(spi_i2s_int) {
 1418              		.loc 1 722 5 view .LVU340
 1419 0000 0129     		cmp	r1, #1
 1420 0002 08D0     		beq	.L73
 1421 0004 0229     		cmp	r1, #2
 1422 0006 0BD0     		beq	.L74
 1423 0008 01B1     		cbz	r1, .L76
 1424              	.L72:
 723:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S transmit buffer empty interrupt */
 724:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI_I2S_INT_TBE:
 725:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         SPI_CTL1(spi_periph) |= (uint32_t)SPI_CTL1_TBEIE;
 726:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 727:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S receive buffer not empty interrupt */
 728:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI_I2S_INT_RBNE:
 729:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         SPI_CTL1(spi_periph) |= (uint32_t)SPI_CTL1_RBNEIE;
 730:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 731:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S error */
 732:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI_I2S_INT_ERR:
 733:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         SPI_CTL1(spi_periph) |= (uint32_t)SPI_CTL1_ERRIE;
 734:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 735:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     default:
 736:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 737:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 738:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1425              		.loc 1 738 1 is_stmt 0 view .LVU341
 1426 000a 7047     		bx	lr
 1427              	.L76:
 725:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1428              		.loc 1 725 9 is_stmt 1 view .LVU342
 725:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1429              		.loc 1 725 30 is_stmt 0 view .LVU343
 1430 000c 4368     		ldr	r3, [r0, #4]
 1431 000e 43F08003 		orr	r3, r3, #128
 1432 0012 4360     		str	r3, [r0, #4]
 726:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S receive buffer not empty interrupt */
 1433              		.loc 1 726 9 is_stmt 1 view .LVU344
 1434 0014 7047     		bx	lr
 1435              	.L73:
 729:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1436              		.loc 1 729 9 view .LVU345
 729:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1437              		.loc 1 729 30 is_stmt 0 view .LVU346
 1438 0016 4368     		ldr	r3, [r0, #4]
 1439 0018 43F04003 		orr	r3, r3, #64
 1440 001c 4360     		str	r3, [r0, #4]
 730:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S error */
 1441              		.loc 1 730 9 is_stmt 1 view .LVU347
 1442 001e 7047     		bx	lr
 1443              	.L74:
 733:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1444              		.loc 1 733 9 view .LVU348
 733:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1445              		.loc 1 733 30 is_stmt 0 view .LVU349
 1446 0020 4368     		ldr	r3, [r0, #4]
 1447 0022 43F02003 		orr	r3, r3, #32
 1448 0026 4360     		str	r3, [r0, #4]
ARM GAS  /tmp/cc9oc1p7.s 			page 39


 734:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     default:
 1449              		.loc 1 734 9 is_stmt 1 view .LVU350
 1450              		.loc 1 738 1 is_stmt 0 view .LVU351
 1451 0028 EFE7     		b	.L72
 1452              		.cfi_endproc
 1453              	.LFE150:
 1455              		.section	.text.spi_i2s_interrupt_disable,"ax",%progbits
 1456              		.align	1
 1457              		.global	spi_i2s_interrupt_disable
 1458              		.syntax unified
 1459              		.thumb
 1460              		.thumb_func
 1462              	spi_i2s_interrupt_disable:
 1463              	.LVL131:
 1464              	.LFB151:
 739:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 740:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 741:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      disable SPI and I2S interrupt
 742:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 743:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_i2s_int: SPI/I2S interrupt
 744:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which is shown as below:
 745:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_I2S_INT_TBE: transmit buffer empty interrupt
 746:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_I2S_INT_RBNE: receive buffer not empty interrupt
 747:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_I2S_INT_ERR: CRC error,configuration error,reception overrun error,
 748:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                                    transmission underrun error and format error interrupt
 749:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 750:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 751:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 752:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_i2s_interrupt_disable(uint32_t spi_periph, uint8_t spi_i2s_int)
 753:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1465              		.loc 1 753 1 is_stmt 1 view -0
 1466              		.cfi_startproc
 1467              		@ args = 0, pretend = 0, frame = 0
 1468              		@ frame_needed = 0, uses_anonymous_args = 0
 1469              		@ link register save eliminated.
 754:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     switch(spi_i2s_int) {
 1470              		.loc 1 754 5 view .LVU353
 1471 0000 0129     		cmp	r1, #1
 1472 0002 08D0     		beq	.L78
 1473 0004 0229     		cmp	r1, #2
 1474 0006 0BD0     		beq	.L79
 1475 0008 01B1     		cbz	r1, .L81
 1476              	.L77:
 755:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S transmit buffer empty interrupt */
 756:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI_I2S_INT_TBE :
 757:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         SPI_CTL1(spi_periph) &= (uint32_t)(~SPI_CTL1_TBEIE);
 758:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 759:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S receive buffer not empty interrupt */
 760:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI_I2S_INT_RBNE :
 761:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         SPI_CTL1(spi_periph) &= (uint32_t)(~SPI_CTL1_RBNEIE);
 762:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 763:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S error */
 764:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI_I2S_INT_ERR :
 765:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         SPI_CTL1(spi_periph) &= (uint32_t)(~SPI_CTL1_ERRIE);
 766:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 767:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     default :
 768:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
ARM GAS  /tmp/cc9oc1p7.s 			page 40


 769:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 770:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1477              		.loc 1 770 1 is_stmt 0 view .LVU354
 1478 000a 7047     		bx	lr
 1479              	.L81:
 757:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1480              		.loc 1 757 9 is_stmt 1 view .LVU355
 757:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1481              		.loc 1 757 30 is_stmt 0 view .LVU356
 1482 000c 4368     		ldr	r3, [r0, #4]
 1483 000e 23F08003 		bic	r3, r3, #128
 1484 0012 4360     		str	r3, [r0, #4]
 758:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S receive buffer not empty interrupt */
 1485              		.loc 1 758 9 is_stmt 1 view .LVU357
 1486 0014 7047     		bx	lr
 1487              	.L78:
 761:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1488              		.loc 1 761 9 view .LVU358
 761:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1489              		.loc 1 761 30 is_stmt 0 view .LVU359
 1490 0016 4368     		ldr	r3, [r0, #4]
 1491 0018 23F04003 		bic	r3, r3, #64
 1492 001c 4360     		str	r3, [r0, #4]
 762:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S error */
 1493              		.loc 1 762 9 is_stmt 1 view .LVU360
 1494 001e 7047     		bx	lr
 1495              	.L79:
 765:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1496              		.loc 1 765 9 view .LVU361
 765:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1497              		.loc 1 765 30 is_stmt 0 view .LVU362
 1498 0020 4368     		ldr	r3, [r0, #4]
 1499 0022 23F02003 		bic	r3, r3, #32
 1500 0026 4360     		str	r3, [r0, #4]
 766:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     default :
 1501              		.loc 1 766 9 is_stmt 1 view .LVU363
 1502              		.loc 1 770 1 is_stmt 0 view .LVU364
 1503 0028 EFE7     		b	.L77
 1504              		.cfi_endproc
 1505              	.LFE151:
 1507              		.section	.text.spi_i2s_interrupt_flag_get,"ax",%progbits
 1508              		.align	1
 1509              		.global	spi_i2s_interrupt_flag_get
 1510              		.syntax unified
 1511              		.thumb
 1512              		.thumb_func
 1514              	spi_i2s_interrupt_flag_get:
 1515              	.LVL132:
 1516              	.LFB152:
 771:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 772:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 773:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      get SPI and I2S interrupt flag status
 774:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 775:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_i2s_int: SPI/I2S interrupt flag status
 776:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which are shown as below:
 777:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_I2S_INT_FLAG_TBE: transmit buffer empty interrupt flag
 778:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_I2S_INT_FLAG_RBNE: receive buffer not empty interrupt flag
ARM GAS  /tmp/cc9oc1p7.s 			page 41


 779:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_I2S_INT_FLAG_RXORERR: overrun interrupt flag
 780:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_INT_FLAG_CONFERR: config error interrupt flag
 781:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_INT_FLAG_CRCERR: CRC error interrupt flag
 782:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_INT_FLAG_TXURERR: underrun error interrupt flag
 783:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_I2S_INT_FLAG_FERR: format error interrupt flag
 784:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 785:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     FlagStatus: SET or RESET
 786:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 787:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** FlagStatus spi_i2s_interrupt_flag_get(uint32_t spi_periph, uint8_t spi_i2s_int)
 788:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1517              		.loc 1 788 1 is_stmt 1 view -0
 1518              		.cfi_startproc
 1519              		@ args = 0, pretend = 0, frame = 0
 1520              		@ frame_needed = 0, uses_anonymous_args = 0
 1521              		@ link register save eliminated.
 789:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     uint32_t reg1 = SPI_STAT(spi_periph);
 1522              		.loc 1 789 5 view .LVU366
 1523              		.loc 1 789 14 is_stmt 0 view .LVU367
 1524 0000 8368     		ldr	r3, [r0, #8]
 1525              	.LVL133:
 790:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     uint32_t reg2 = SPI_CTL1(spi_periph);
 1526              		.loc 1 790 5 is_stmt 1 view .LVU368
 1527              		.loc 1 790 14 is_stmt 0 view .LVU369
 1528 0002 4268     		ldr	r2, [r0, #4]
 1529              	.LVL134:
 791:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 792:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     switch(spi_i2s_int) {
 1530              		.loc 1 792 5 is_stmt 1 view .LVU370
 1531 0004 0629     		cmp	r1, #6
 1532 0006 09D8     		bhi	.L83
 1533 0008 DFE801F0 		tbb	[pc, r1]
 1534              	.LVL135:
 1535              	.L85:
 1536 000c 04       		.byte	(.L91-.L85)/2
 1537 000d 0C       		.byte	(.L90-.L85)/2
 1538 000e 11       		.byte	(.L89-.L85)/2
 1539 000f 16       		.byte	(.L88-.L85)/2
 1540 0010 1B       		.byte	(.L87-.L85)/2
 1541 0011 20       		.byte	(.L86-.L85)/2
 1542 0012 25       		.byte	(.L84-.L85)/2
 1543 0013 00       		.p2align 1
 1544              	.L91:
 793:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S transmit buffer empty interrupt */
 794:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI_I2S_INT_FLAG_TBE :
 795:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg1 = reg1 & SPI_STAT_TBE;
 1545              		.loc 1 795 9 view .LVU371
 1546              		.loc 1 795 14 is_stmt 0 view .LVU372
 1547 0014 03F00203 		and	r3, r3, #2
 1548              	.LVL136:
 796:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_TBEIE;
 1549              		.loc 1 796 9 is_stmt 1 view .LVU373
 1550              		.loc 1 796 14 is_stmt 0 view .LVU374
 1551 0018 02F08002 		and	r2, r2, #128
 1552              	.LVL137:
 797:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1553              		.loc 1 797 9 is_stmt 1 view .LVU375
 1554              	.L83:
ARM GAS  /tmp/cc9oc1p7.s 			page 42


 798:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S receive buffer not empty interrupt */
 799:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI_I2S_INT_FLAG_RBNE :
 800:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg1 = reg1 & SPI_STAT_RBNE;
 801:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_RBNEIE;
 802:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 803:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S overrun interrupt */
 804:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI_I2S_INT_FLAG_RXORERR :
 805:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg1 = reg1 & SPI_STAT_RXORERR;
 806:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 807:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 808:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI config error interrupt */
 809:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI_INT_FLAG_CONFERR :
 810:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg1 = reg1 & SPI_STAT_CONFERR;
 811:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 812:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 813:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI CRC error interrupt */
 814:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI_INT_FLAG_CRCERR :
 815:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg1 = reg1 & SPI_STAT_CRCERR;
 816:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 817:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 818:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* I2S underrun error interrupt */
 819:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case I2S_INT_FLAG_TXURERR :
 820:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg1 = reg1 & SPI_STAT_TXURERR;
 821:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 822:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 823:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S format error interrupt */
 824:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     case SPI_I2S_INT_FLAG_FERR :
 825:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg1 = reg1 & SPI_STAT_FERR;
 826:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 827:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 828:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     default :
 829:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 830:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 831:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /*get SPI/I2S interrupt flag status */
 832:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     if(reg1 && reg2) {
 1555              		.loc 1 832 5 view .LVU376
 1556              		.loc 1 832 7 is_stmt 0 view .LVU377
 1557 001c 03B3     		cbz	r3, .L93
 1558              		.loc 1 832 13 discriminator 1 view .LVU378
 1559 001e 0ABB     		cbnz	r2, .L94
 833:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         return SET;
 834:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     } else {
 835:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         return RESET;
 1560              		.loc 1 835 16 view .LVU379
 1561 0020 0020     		movs	r0, #0
 1562 0022 7047     		bx	lr
 1563              	.L90:
 800:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_RBNEIE;
 1564              		.loc 1 800 9 is_stmt 1 view .LVU380
 800:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_RBNEIE;
 1565              		.loc 1 800 14 is_stmt 0 view .LVU381
 1566 0024 03F00103 		and	r3, r3, #1
 1567              	.LVL138:
 801:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1568              		.loc 1 801 9 is_stmt 1 view .LVU382
 801:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1569              		.loc 1 801 14 is_stmt 0 view .LVU383
ARM GAS  /tmp/cc9oc1p7.s 			page 43


 1570 0028 02F04002 		and	r2, r2, #64
 1571              	.LVL139:
 802:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S overrun interrupt */
 1572              		.loc 1 802 9 is_stmt 1 view .LVU384
 1573 002c F6E7     		b	.L83
 1574              	.L89:
 805:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 1575              		.loc 1 805 9 view .LVU385
 805:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 1576              		.loc 1 805 14 is_stmt 0 view .LVU386
 1577 002e 03F04003 		and	r3, r3, #64
 1578              	.LVL140:
 806:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1579              		.loc 1 806 9 is_stmt 1 view .LVU387
 806:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1580              		.loc 1 806 14 is_stmt 0 view .LVU388
 1581 0032 02F02002 		and	r2, r2, #32
 1582              	.LVL141:
 807:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI config error interrupt */
 1583              		.loc 1 807 9 is_stmt 1 view .LVU389
 1584 0036 F1E7     		b	.L83
 1585              	.L88:
 810:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 1586              		.loc 1 810 9 view .LVU390
 810:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 1587              		.loc 1 810 14 is_stmt 0 view .LVU391
 1588 0038 03F02003 		and	r3, r3, #32
 1589              	.LVL142:
 811:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1590              		.loc 1 811 9 is_stmt 1 view .LVU392
 811:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1591              		.loc 1 811 14 is_stmt 0 view .LVU393
 1592 003c 02F02002 		and	r2, r2, #32
 1593              	.LVL143:
 812:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI CRC error interrupt */
 1594              		.loc 1 812 9 is_stmt 1 view .LVU394
 1595 0040 ECE7     		b	.L83
 1596              	.L87:
 815:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 1597              		.loc 1 815 9 view .LVU395
 815:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 1598              		.loc 1 815 14 is_stmt 0 view .LVU396
 1599 0042 03F01003 		and	r3, r3, #16
 1600              	.LVL144:
 816:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1601              		.loc 1 816 9 is_stmt 1 view .LVU397
 816:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1602              		.loc 1 816 14 is_stmt 0 view .LVU398
 1603 0046 02F02002 		and	r2, r2, #32
 1604              	.LVL145:
 817:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* I2S underrun error interrupt */
 1605              		.loc 1 817 9 is_stmt 1 view .LVU399
 1606 004a E7E7     		b	.L83
 1607              	.L86:
 820:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 1608              		.loc 1 820 9 view .LVU400
 820:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
ARM GAS  /tmp/cc9oc1p7.s 			page 44


 1609              		.loc 1 820 14 is_stmt 0 view .LVU401
 1610 004c 03F00803 		and	r3, r3, #8
 1611              	.LVL146:
 821:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1612              		.loc 1 821 9 is_stmt 1 view .LVU402
 821:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1613              		.loc 1 821 14 is_stmt 0 view .LVU403
 1614 0050 02F02002 		and	r2, r2, #32
 1615              	.LVL147:
 822:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     /* SPI/I2S format error interrupt */
 1616              		.loc 1 822 9 is_stmt 1 view .LVU404
 1617 0054 E2E7     		b	.L83
 1618              	.L84:
 825:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 1619              		.loc 1 825 9 view .LVU405
 825:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         reg2 = reg2 & SPI_CTL1_ERRIE;
 1620              		.loc 1 825 14 is_stmt 0 view .LVU406
 1621 0056 03F48073 		and	r3, r3, #256
 1622              	.LVL148:
 826:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1623              		.loc 1 826 9 is_stmt 1 view .LVU407
 826:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         break;
 1624              		.loc 1 826 14 is_stmt 0 view .LVU408
 1625 005a 02F02002 		and	r2, r2, #32
 1626              	.LVL149:
 827:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     default :
 1627              		.loc 1 827 9 is_stmt 1 view .LVU409
 1628 005e DDE7     		b	.L83
 1629              	.L93:
 1630              		.loc 1 835 16 is_stmt 0 view .LVU410
 1631 0060 0020     		movs	r0, #0
 1632 0062 7047     		bx	lr
 1633              	.L94:
 833:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     } else {
 1634              		.loc 1 833 16 view .LVU411
 1635 0064 0120     		movs	r0, #1
 836:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 837:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1636              		.loc 1 837 1 view .LVU412
 1637 0066 7047     		bx	lr
 1638              		.cfi_endproc
 1639              	.LFE152:
 1641              		.section	.text.spi_i2s_flag_get,"ax",%progbits
 1642              		.align	1
 1643              		.global	spi_i2s_flag_get
 1644              		.syntax unified
 1645              		.thumb
 1646              		.thumb_func
 1648              	spi_i2s_flag_get:
 1649              	.LVL150:
 1650              	.LFB153:
 838:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 839:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 840:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      get SPI and I2S flag status
 841:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 842:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_i2s_flag: SPI/I2S flag status
 843:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****                 only one parameter can be selected which are shown as below:
ARM GAS  /tmp/cc9oc1p7.s 			page 45


 844:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_FLAG_TBE: transmit buffer empty flag
 845:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_FLAG_RBNE: receive buffer not empty flag
 846:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_FLAG_TRANS: transmit on-going flag
 847:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_FLAG_RXORERR: receive overrun error flag
 848:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_FLAG_CONFERR: mode config error flag
 849:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_FLAG_CRCERR: CRC error flag
 850:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        SPI_FLAG_FERR: format error flag
 851:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FLAG_TBE: transmit buffer empty flag
 852:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FLAG_RBNE: receive buffer not empty flag
 853:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FLAG_TRANS: transmit on-going flag
 854:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FLAG_RXORERR: overrun error flag
 855:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FLAG_TXURERR: underrun error flag
 856:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FLAG_CH: channel side flag
 857:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****       \arg        I2S_FLAG_FERR: format error flag
 858:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 859:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     FlagStatus: SET or RESET
 860:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 861:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** FlagStatus spi_i2s_flag_get(uint32_t spi_periph, uint32_t spi_i2s_flag)
 862:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1651              		.loc 1 862 1 is_stmt 1 view -0
 1652              		.cfi_startproc
 1653              		@ args = 0, pretend = 0, frame = 0
 1654              		@ frame_needed = 0, uses_anonymous_args = 0
 1655              		@ link register save eliminated.
 863:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     if(SPI_STAT(spi_periph) & spi_i2s_flag) {
 1656              		.loc 1 863 5 view .LVU414
 1657              		.loc 1 863 8 is_stmt 0 view .LVU415
 1658 0000 8368     		ldr	r3, [r0, #8]
 1659              		.loc 1 863 7 view .LVU416
 1660 0002 0B42     		tst	r3, r1
 1661 0004 01D0     		beq	.L97
 864:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         return SET;
 1662              		.loc 1 864 16 view .LVU417
 1663 0006 0120     		movs	r0, #1
 1664              	.LVL151:
 1665              		.loc 1 864 16 view .LVU418
 1666 0008 7047     		bx	lr
 1667              	.LVL152:
 1668              	.L97:
 865:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     } else {
 866:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****         return RESET;
 1669              		.loc 1 866 16 view .LVU419
 1670 000a 0020     		movs	r0, #0
 1671              	.LVL153:
 867:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     }
 868:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1672              		.loc 1 868 1 view .LVU420
 1673 000c 7047     		bx	lr
 1674              		.cfi_endproc
 1675              	.LFE153:
 1677              		.section	.text.spi_crc_error_clear,"ax",%progbits
 1678              		.align	1
 1679              		.global	spi_crc_error_clear
 1680              		.syntax unified
 1681              		.thumb
 1682              		.thumb_func
 1684              	spi_crc_error_clear:
ARM GAS  /tmp/cc9oc1p7.s 			page 46


 1685              	.LVL154:
 1686              	.LFB154:
 869:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** 
 870:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** /*!
 871:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \brief      clear SPI CRC error flag status
 872:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[in]  spi_periph: SPIx(x=0,1,2,3,4,5)
 873:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \param[out] none
 874:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     \retval     none
 875:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** */
 876:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** void spi_crc_error_clear(uint32_t spi_periph)
 877:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** {
 1687              		.loc 1 877 1 is_stmt 1 view -0
 1688              		.cfi_startproc
 1689              		@ args = 0, pretend = 0, frame = 0
 1690              		@ frame_needed = 0, uses_anonymous_args = 0
 1691              		@ link register save eliminated.
 878:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c ****     SPI_STAT(spi_periph) &= (uint32_t)(~SPI_FLAG_CRCERR);
 1692              		.loc 1 878 5 view .LVU422
 1693              		.loc 1 878 26 is_stmt 0 view .LVU423
 1694 0000 8368     		ldr	r3, [r0, #8]
 1695 0002 23F01003 		bic	r3, r3, #16
 1696 0006 8360     		str	r3, [r0, #8]
 879:Drivers/GD32_F470_STD_Driver/Source/gd32f4xx_spi.c **** }
 1697              		.loc 1 879 1 view .LVU424
 1698 0008 7047     		bx	lr
 1699              		.cfi_endproc
 1700              	.LFE154:
 1702              		.text
 1703              	.Letext0:
 1704              		.file 2 "/home/funtime/arm_gcc/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_defau
 1705              		.file 3 "/home/funtime/arm_gcc/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 1706              		.file 4 "Core/Inc/gd32f4xx.h"
 1707              		.file 5 "Drivers/GD32_F470_STD_Driver/Include/gd32f4xx_rcu.h"
 1708              		.file 6 "Drivers/GD32_F470_STD_Driver/Include/gd32f4xx_spi.h"
ARM GAS  /tmp/cc9oc1p7.s 			page 47


DEFINED SYMBOLS
                            *ABS*:0000000000000000 gd32f4xx_spi.c
     /tmp/cc9oc1p7.s:20     .text.spi_i2s_deinit:0000000000000000 $t
     /tmp/cc9oc1p7.s:26     .text.spi_i2s_deinit:0000000000000000 spi_i2s_deinit
     /tmp/cc9oc1p7.s:150    .text.spi_i2s_deinit:000000000000009c $d
     /tmp/cc9oc1p7.s:156    .text.spi_struct_para_init:0000000000000000 $t
     /tmp/cc9oc1p7.s:162    .text.spi_struct_para_init:0000000000000000 spi_struct_para_init
     /tmp/cc9oc1p7.s:198    .text.spi_init:0000000000000000 $t
     /tmp/cc9oc1p7.s:204    .text.spi_init:0000000000000000 spi_init
     /tmp/cc9oc1p7.s:280    .text.spi_enable:0000000000000000 $t
     /tmp/cc9oc1p7.s:286    .text.spi_enable:0000000000000000 spi_enable
     /tmp/cc9oc1p7.s:305    .text.spi_disable:0000000000000000 $t
     /tmp/cc9oc1p7.s:311    .text.spi_disable:0000000000000000 spi_disable
     /tmp/cc9oc1p7.s:330    .text.i2s_init:0000000000000000 $t
     /tmp/cc9oc1p7.s:336    .text.i2s_init:0000000000000000 i2s_init
     /tmp/cc9oc1p7.s:389    .text.i2s_psc_config:0000000000000000 $t
     /tmp/cc9oc1p7.s:395    .text.i2s_psc_config:0000000000000000 i2s_psc_config
     /tmp/cc9oc1p7.s:609    .text.i2s_psc_config:00000000000000d4 $d
     /tmp/cc9oc1p7.s:617    .text.i2s_enable:0000000000000000 $t
     /tmp/cc9oc1p7.s:623    .text.i2s_enable:0000000000000000 i2s_enable
     /tmp/cc9oc1p7.s:642    .text.i2s_disable:0000000000000000 $t
     /tmp/cc9oc1p7.s:648    .text.i2s_disable:0000000000000000 i2s_disable
     /tmp/cc9oc1p7.s:667    .text.spi_nss_output_enable:0000000000000000 $t
     /tmp/cc9oc1p7.s:673    .text.spi_nss_output_enable:0000000000000000 spi_nss_output_enable
     /tmp/cc9oc1p7.s:692    .text.spi_nss_output_disable:0000000000000000 $t
     /tmp/cc9oc1p7.s:698    .text.spi_nss_output_disable:0000000000000000 spi_nss_output_disable
     /tmp/cc9oc1p7.s:717    .text.spi_nss_internal_high:0000000000000000 $t
     /tmp/cc9oc1p7.s:723    .text.spi_nss_internal_high:0000000000000000 spi_nss_internal_high
     /tmp/cc9oc1p7.s:742    .text.spi_nss_internal_low:0000000000000000 $t
     /tmp/cc9oc1p7.s:748    .text.spi_nss_internal_low:0000000000000000 spi_nss_internal_low
     /tmp/cc9oc1p7.s:767    .text.spi_dma_enable:0000000000000000 $t
     /tmp/cc9oc1p7.s:773    .text.spi_dma_enable:0000000000000000 spi_dma_enable
     /tmp/cc9oc1p7.s:802    .text.spi_dma_disable:0000000000000000 $t
     /tmp/cc9oc1p7.s:808    .text.spi_dma_disable:0000000000000000 spi_dma_disable
     /tmp/cc9oc1p7.s:837    .text.spi_i2s_data_frame_format_config:0000000000000000 $t
     /tmp/cc9oc1p7.s:843    .text.spi_i2s_data_frame_format_config:0000000000000000 spi_i2s_data_frame_format_config
     /tmp/cc9oc1p7.s:867    .text.spi_i2s_data_transmit:0000000000000000 $t
     /tmp/cc9oc1p7.s:873    .text.spi_i2s_data_transmit:0000000000000000 spi_i2s_data_transmit
     /tmp/cc9oc1p7.s:890    .text.spi_i2s_data_receive:0000000000000000 $t
     /tmp/cc9oc1p7.s:896    .text.spi_i2s_data_receive:0000000000000000 spi_i2s_data_receive
     /tmp/cc9oc1p7.s:915    .text.spi_bidirectional_transfer_config:0000000000000000 $t
     /tmp/cc9oc1p7.s:921    .text.spi_bidirectional_transfer_config:0000000000000000 spi_bidirectional_transfer_config
     /tmp/cc9oc1p7.s:951    .text.spi_crc_polynomial_set:0000000000000000 $t
     /tmp/cc9oc1p7.s:957    .text.spi_crc_polynomial_set:0000000000000000 spi_crc_polynomial_set
     /tmp/cc9oc1p7.s:974    .text.spi_crc_polynomial_get:0000000000000000 $t
     /tmp/cc9oc1p7.s:980    .text.spi_crc_polynomial_get:0000000000000000 spi_crc_polynomial_get
     /tmp/cc9oc1p7.s:999    .text.spi_crc_on:0000000000000000 $t
     /tmp/cc9oc1p7.s:1005   .text.spi_crc_on:0000000000000000 spi_crc_on
     /tmp/cc9oc1p7.s:1024   .text.spi_crc_off:0000000000000000 $t
     /tmp/cc9oc1p7.s:1030   .text.spi_crc_off:0000000000000000 spi_crc_off
     /tmp/cc9oc1p7.s:1049   .text.spi_crc_next:0000000000000000 $t
     /tmp/cc9oc1p7.s:1055   .text.spi_crc_next:0000000000000000 spi_crc_next
     /tmp/cc9oc1p7.s:1074   .text.spi_crc_get:0000000000000000 $t
     /tmp/cc9oc1p7.s:1080   .text.spi_crc_get:0000000000000000 spi_crc_get
     /tmp/cc9oc1p7.s:1112   .text.spi_ti_mode_enable:0000000000000000 $t
     /tmp/cc9oc1p7.s:1118   .text.spi_ti_mode_enable:0000000000000000 spi_ti_mode_enable
     /tmp/cc9oc1p7.s:1137   .text.spi_ti_mode_disable:0000000000000000 $t
ARM GAS  /tmp/cc9oc1p7.s 			page 48


     /tmp/cc9oc1p7.s:1143   .text.spi_ti_mode_disable:0000000000000000 spi_ti_mode_disable
     /tmp/cc9oc1p7.s:1162   .text.i2s_full_duplex_mode_config:0000000000000000 $t
     /tmp/cc9oc1p7.s:1168   .text.i2s_full_duplex_mode_config:0000000000000000 i2s_full_duplex_mode_config
     /tmp/cc9oc1p7.s:1254   .text.spi_quad_enable:0000000000000000 $t
     /tmp/cc9oc1p7.s:1260   .text.spi_quad_enable:0000000000000000 spi_quad_enable
     /tmp/cc9oc1p7.s:1279   .text.spi_quad_disable:0000000000000000 $t
     /tmp/cc9oc1p7.s:1285   .text.spi_quad_disable:0000000000000000 spi_quad_disable
     /tmp/cc9oc1p7.s:1304   .text.spi_quad_write_enable:0000000000000000 $t
     /tmp/cc9oc1p7.s:1310   .text.spi_quad_write_enable:0000000000000000 spi_quad_write_enable
     /tmp/cc9oc1p7.s:1329   .text.spi_quad_read_enable:0000000000000000 $t
     /tmp/cc9oc1p7.s:1335   .text.spi_quad_read_enable:0000000000000000 spi_quad_read_enable
     /tmp/cc9oc1p7.s:1354   .text.spi_quad_io23_output_enable:0000000000000000 $t
     /tmp/cc9oc1p7.s:1360   .text.spi_quad_io23_output_enable:0000000000000000 spi_quad_io23_output_enable
     /tmp/cc9oc1p7.s:1379   .text.spi_quad_io23_output_disable:0000000000000000 $t
     /tmp/cc9oc1p7.s:1385   .text.spi_quad_io23_output_disable:0000000000000000 spi_quad_io23_output_disable
     /tmp/cc9oc1p7.s:1404   .text.spi_i2s_interrupt_enable:0000000000000000 $t
     /tmp/cc9oc1p7.s:1410   .text.spi_i2s_interrupt_enable:0000000000000000 spi_i2s_interrupt_enable
     /tmp/cc9oc1p7.s:1456   .text.spi_i2s_interrupt_disable:0000000000000000 $t
     /tmp/cc9oc1p7.s:1462   .text.spi_i2s_interrupt_disable:0000000000000000 spi_i2s_interrupt_disable
     /tmp/cc9oc1p7.s:1508   .text.spi_i2s_interrupt_flag_get:0000000000000000 $t
     /tmp/cc9oc1p7.s:1514   .text.spi_i2s_interrupt_flag_get:0000000000000000 spi_i2s_interrupt_flag_get
     /tmp/cc9oc1p7.s:1536   .text.spi_i2s_interrupt_flag_get:000000000000000c $d
     /tmp/cc9oc1p7.s:1642   .text.spi_i2s_flag_get:0000000000000000 $t
     /tmp/cc9oc1p7.s:1648   .text.spi_i2s_flag_get:0000000000000000 spi_i2s_flag_get
     /tmp/cc9oc1p7.s:1678   .text.spi_crc_error_clear:0000000000000000 $t
     /tmp/cc9oc1p7.s:1684   .text.spi_crc_error_clear:0000000000000000 spi_crc_error_clear
     /tmp/cc9oc1p7.s:1543   .text.spi_i2s_interrupt_flag_get:0000000000000013 $d
     /tmp/cc9oc1p7.s:1543   .text.spi_i2s_interrupt_flag_get:0000000000000014 $t

UNDEFINED SYMBOLS
rcu_periph_reset_enable
rcu_periph_reset_disable
rcu_osci_on
rcu_osci_stab_wait
rcu_i2s_clock_config
